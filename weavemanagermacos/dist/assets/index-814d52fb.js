(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function N(){}function rn(t){return t()}function Ht(){return Object.create(null)}function ce(t){t.forEach(rn)}function it(t){return typeof t=="function"}function he(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Be;function Yn(t,e){return Be||(Be=document.createElement("a")),Be.href=e,t===Be.href}function Kn(t){return Object.keys(t).length===0}function Xn(t){return t&&it(t.destroy)?t.destroy:N}function i(t,e){t.appendChild(e)}function q(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode&&t.parentNode.removeChild(t)}function Pt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function c(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function M(){return H(" ")}function R(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function r(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Zn(t){return Array.from(t.childNodes)}function V(t,e){e=""+e,t.data!==e&&(t.data=e)}function Qn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(t,n,l,e),a}let Ve;function He(t){Ve=t}function Ct(){if(!Ve)throw new Error("Function called outside component initialization");return Ve}function Ce(t){Ct().$$.on_mount.push(t)}function rt(t){Ct().$$.on_destroy.push(t)}function ot(){const t=Ct();return(e,n,{cancelable:l=!1}={})=>{const a=t.$$.callbacks[e];if(a){const s=Qn(e,n,{cancelable:l});return a.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function el(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const ze=[],se=[];let qe=[];const gt=[],tl=Promise.resolve();let yt=!1;function nl(){yt||(yt=!0,tl.then(on))}function vt(t){qe.push(t)}function Je(t){gt.push(t)}const ht=new Set;let Te=0;function on(){if(Te!==0)return;const t=Ve;do{try{for(;Te<ze.length;){const e=ze[Te];Te++,He(e),ll(e.$$)}}catch(e){throw ze.length=0,Te=0,e}for(He(null),ze.length=0,Te=0;se.length;)se.pop()();for(let e=0;e<qe.length;e+=1){const n=qe[e];ht.has(n)||(ht.add(n),n())}qe.length=0}while(ze.length);for(;gt.length;)gt.pop()();yt=!1,ht.clear(),He(t)}function ll(t){if(t.fragment!==null){t.update(),ce(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(vt)}}function al(t){const e=[],n=[];qe.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),qe=e}const Ye=new Set;let je;function wt(){je={r:0,c:[],p:je}}function bt(){je.r||ce(je.c),je=je.p}function B(t,e){t&&t.i&&(Ye.delete(t),t.i(e))}function G(t,e,n,l){if(t&&t.o){if(Ye.has(t))return;Ye.add(t),je.c.push(()=>{Ye.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function sl(t,e){t.d(1),e.delete(t.key)}function il(t,e,n,l,a,s,o,d,f,m,u,g){let y=t.length,b=s.length,h=y;const k={};for(;h--;)k[t[h].key]=h;const _=[],v=new Map,W=new Map,D=[];for(h=b;h--;){const w=g(a,s,h),P=n(w);let E=o.get(P);E?l&&D.push(()=>E.p(w,e)):(E=m(P,w),E.c()),v.set(P,_[h]=E),P in k&&W.set(P,Math.abs(h-k[P]))}const L=new Set,C=new Set;function x(w){B(w,1),w.m(d,u),o.set(w.key,w),u=w.first,b--}for(;y&&b;){const w=_[b-1],P=t[y-1],E=w.key,$=P.key;w===P?(u=w.first,y--,b--):v.has($)?!o.has(E)||L.has(E)?x(w):C.has($)?y--:W.get(E)>W.get($)?(C.add(E),x(w)):(L.add($),y--):(f(P,o),y--)}for(;y--;){const w=t[y];v.has(w.key)||f(w,o)}for(;b;)x(_[b-1]);return ce(D),_}function Ke(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function ne(t){t&&t.c()}function ee(t,e,n,l){const{fragment:a,after_update:s}=t.$$;a&&a.m(e,n),l||vt(()=>{const o=t.$$.on_mount.map(rn).filter(it);t.$$.on_destroy?t.$$.on_destroy.push(...o):ce(o),t.$$.on_mount=[]}),s.forEach(vt)}function te(t,e){const n=t.$$;n.fragment!==null&&(al(n.after_update),ce(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rl(t,e){t.$$.dirty[0]===-1&&(ze.push(t),nl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,n,l,a,s,o,d=[-1]){const f=Ve;He(t);const m=t.$$={fragment:null,ctx:[],props:s,update:N,not_equal:a,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Ht(),dirty:d,skip_bound:!1,root:e.target||f.$$.root};o&&o(m.root);let u=!1;if(m.ctx=n?n(t,e.props||{},(g,y,...b)=>{const h=b.length?b[0]:y;return m.ctx&&a(m.ctx[g],m.ctx[g]=h)&&(!m.skip_bound&&m.bound[g]&&m.bound[g](h),u&&rl(t,g)),y}):[],m.update(),u=!0,ce(m.before_update),m.fragment=l?l(m.ctx):!1,e.target){if(e.hydrate){const g=Zn(e.target);m.fragment&&m.fragment.l(g),g.forEach(z)}else m.fragment&&m.fragment.c();e.intro&&B(t.$$.fragment),ee(t,e.target,e.anchor,e.customElement),on()}He(f)}class _e{$destroy(){te(this,1),this.$destroy=N}$on(e,n){if(!it(n))return N;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const a=l.indexOf(n);a!==-1&&l.splice(a,1)}}$set(e){this.$$set&&!Kn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ol=Object.defineProperty,ie=(t,e)=>{for(var n in e)ol(t,n,{get:e[n],enumerable:!0})},cl={};ie(cl,{convertFileSrc:()=>dl,invoke:()=>ve,transformCallback:()=>Le});function ul(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function Le(t,e=!1){let n=ul(),l=`_${n}`;return Object.defineProperty(window,l,{value:a=>(e&&Reflect.deleteProperty(window,l),t==null?void 0:t(a)),writable:!1,configurable:!0}),n}async function ve(t,e={}){return new Promise((n,l)=>{let a=Le(o=>{n(o),Reflect.deleteProperty(window,`_${s}`)},!0),s=Le(o=>{l(o),Reflect.deleteProperty(window,`_${a}`)},!0);window.__TAURI_IPC__({cmd:t,callback:a,error:s,...e})})}function dl(t,e="asset"){let n=encodeURIComponent(t);return navigator.userAgent.includes("Windows")?`https://${e}.localhost/${n}`:`${e}://localhost/${n}`}async function p(t){return ve("tauri",t)}var ml={};ie(ml,{TauriEvent:()=>mn,emit:()=>xt,listen:()=>Se,once:()=>fn});async function cn(t,e){return p({__tauriModule:"Event",message:{cmd:"unlisten",event:t,eventId:e}})}async function un(t,e,n){await p({__tauriModule:"Event",message:{cmd:"emit",event:t,windowLabel:e,payload:n}})}async function Dt(t,e,n){return p({__tauriModule:"Event",message:{cmd:"listen",event:t,windowLabel:e,handler:Le(n)}}).then(l=>async()=>cn(t,l))}async function dn(t,e,n){return Dt(t,e,l=>{n(l),cn(t,l.id).catch(()=>{})})}var mn=(t=>(t.WINDOW_RESIZED="tauri://resize",t.WINDOW_MOVED="tauri://move",t.WINDOW_CLOSE_REQUESTED="tauri://close-requested",t.WINDOW_CREATED="tauri://window-created",t.WINDOW_DESTROYED="tauri://destroyed",t.WINDOW_FOCUS="tauri://focus",t.WINDOW_BLUR="tauri://blur",t.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",t.WINDOW_THEME_CHANGED="tauri://theme-changed",t.WINDOW_FILE_DROP="tauri://file-drop",t.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",t.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",t.MENU="tauri://menu",t.CHECK_UPDATE="tauri://update",t.UPDATE_AVAILABLE="tauri://update-available",t.INSTALL_UPDATE="tauri://update-install",t.STATUS_UPDATE="tauri://update-status",t.DOWNLOAD_PROGRESS="tauri://update-download-progress",t))(mn||{});async function Se(t,e){return Dt(t,null,e)}async function fn(t,e){return dn(t,null,e)}async function xt(t,e){return un(t,void 0,e)}var fl={};ie(fl,{CloseRequestedEvent:()=>vn,LogicalPosition:()=>pn,LogicalSize:()=>hn,PhysicalPosition:()=>Qe,PhysicalSize:()=>Ze,UserAttentionType:()=>_n,WebviewWindow:()=>Ie,WebviewWindowHandle:()=>gn,WindowManager:()=>yn,appWindow:()=>Ee,availableMonitors:()=>gl,currentMonitor:()=>pl,getAll:()=>Mt,getCurrent:()=>hl,primaryMonitor:()=>_l});var hn=class{constructor(e,n){this.type="Logical",this.width=e,this.height=n}},Ze=class{constructor(e,n){this.type="Physical",this.width=e,this.height=n}toLogical(e){return new hn(this.width/e,this.height/e)}},pn=class{constructor(e,n){this.type="Logical",this.x=e,this.y=n}},Qe=class{constructor(e,n){this.type="Physical",this.x=e,this.y=n}toLogical(e){return new pn(this.x/e,this.y/e)}},_n=(t=>(t[t.Critical=1]="Critical",t[t.Informational=2]="Informational",t))(_n||{});function hl(){return new Ie(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0})}function Mt(){return window.__TAURI_METADATA__.__windows.map(t=>new Ie(t.label,{skip:!0}))}var Vt=["tauri://created","tauri://error"],gn=class{constructor(e){this.label=e,this.listeners=Object.create(null)}async listen(e,n){return this._handleTauriEvent(e,n)?Promise.resolve(()=>{let l=this.listeners[e];l.splice(l.indexOf(n),1)}):Dt(e,this.label,n)}async once(e,n){return this._handleTauriEvent(e,n)?Promise.resolve(()=>{let l=this.listeners[e];l.splice(l.indexOf(n),1)}):dn(e,this.label,n)}async emit(e,n){if(Vt.includes(e)){for(let l of this.listeners[e]||[])l({event:e,id:-1,windowLabel:this.label,payload:n});return Promise.resolve()}return un(e,this.label,n)}_handleTauriEvent(e,n){return Vt.includes(e)?(e in this.listeners?this.listeners[e].push(n):this.listeners[e]=[n],!0):!1}},yn=class extends gn{async scaleFactor(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})}async innerPosition(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(({x:e,y:n})=>new Qe(e,n))}async outerPosition(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(({x:e,y:n})=>new Qe(e,n))}async innerSize(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(({width:e,height:n})=>new Ze(e,n))}async outerSize(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(({width:e,height:n})=>new Ze(e,n))}async isFullscreen(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})}async isMinimized(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimized"}}}})}async isMaximized(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})}async isFocused(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFocused"}}}})}async isDecorated(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})}async isResizable(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})}async isMaximizable(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximizable"}}}})}async isMinimizable(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimizable"}}}})}async isClosable(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isClosable"}}}})}async isVisible(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})}async title(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"title"}}}})}async theme(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})}async center(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})}async requestUserAttention(e){let n=null;return e&&(e===1?n={type:"Critical"}:n={type:"Informational"}),p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:n}}}})}async setResizable(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:e}}}})}async setMaximizable(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaximizable",payload:e}}}})}async setMinimizable(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinimizable",payload:e}}}})}async setClosable(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setClosable",payload:e}}}})}async setTitle(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:e}}}})}async maximize(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})}async unmaximize(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})}async toggleMaximize(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})}async minimize(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})}async unminimize(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})}async show(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})}async hide(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})}async close(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})}async setDecorations(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:e}}}})}async setAlwaysOnTop(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:e}}}})}async setContentProtected(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setContentProtected",payload:e}}}})}async setSize(e){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:e.type,data:{width:e.width,height:e.height}}}}}})}async setMinSize(e){if(e&&e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:e?{type:e.type,data:{width:e.width,height:e.height}}:null}}}})}async setMaxSize(e){if(e&&e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:e?{type:e.type,data:{width:e.width,height:e.height}}:null}}}})}async setPosition(e){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:e.type,data:{x:e.x,y:e.y}}}}}})}async setFullscreen(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:e}}}})}async setFocus(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})}async setIcon(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof e=="string"?e:Array.from(e)}}}}})}async setSkipTaskbar(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:e}}}})}async setCursorGrab(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:e}}}})}async setCursorVisible(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:e}}}})}async setCursorIcon(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:e}}}})}async setCursorPosition(e){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:e.type,data:{x:e.x,y:e.y}}}}}})}async setIgnoreCursorEvents(e){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIgnoreCursorEvents",payload:e}}}})}async startDragging(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})}async onResized(e){return this.listen("tauri://resize",n=>{n.payload=bn(n.payload),e(n)})}async onMoved(e){return this.listen("tauri://move",n=>{n.payload=wn(n.payload),e(n)})}async onCloseRequested(e){return this.listen("tauri://close-requested",n=>{let l=new vn(n);Promise.resolve(e(l)).then(()=>{if(!l.isPreventDefault())return this.close()})})}async onFocusChanged(e){let n=await this.listen("tauri://focus",a=>{e({...a,payload:!0})}),l=await this.listen("tauri://blur",a=>{e({...a,payload:!1})});return()=>{n(),l()}}async onScaleChanged(e){return this.listen("tauri://scale-change",e)}async onMenuClicked(e){return this.listen("tauri://menu",e)}async onFileDropEvent(e){let n=await this.listen("tauri://file-drop",s=>{e({...s,payload:{type:"drop",paths:s.payload}})}),l=await this.listen("tauri://file-drop-hover",s=>{e({...s,payload:{type:"hover",paths:s.payload}})}),a=await this.listen("tauri://file-drop-cancelled",s=>{e({...s,payload:{type:"cancel"}})});return()=>{n(),l(),a()}}async onThemeChanged(e){return this.listen("tauri://theme-changed",e)}},vn=class{constructor(e){this._preventDefault=!1,this.event=e.event,this.windowLabel=e.windowLabel,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}},Ie=class extends yn{constructor(e,n={}){super(e),n!=null&&n.skip||p({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:{label:e,...n}}}}).then(async()=>this.emit("tauri://created")).catch(async l=>this.emit("tauri://error",l))}static getByLabel(e){return Mt().some(n=>n.label===e)?new Ie(e,{skip:!0}):null}static async getFocusedWindow(){for(let e of Mt())if(await e.isFocused())return e;return null}},Ee;"__TAURI_METADATA__"in window?Ee=new Ie(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),Ee=new Ie("main",{skip:!0}));function jt(t){return t===null?null:{name:t.name,scaleFactor:t.scaleFactor,position:wn(t.position),size:bn(t.size)}}function wn(t){return new Qe(t.x,t.y)}function bn(t){return new Ze(t.width,t.height)}async function pl(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}}).then(jt)}async function _l(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}}).then(jt)}async function gl(){return p({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}}).then(t=>t.map(jt))}const yl="/assets/icon-273cd669.png";function vl(t){const e=n=>{t&&!t.contains(n.target)&&!n.defaultPrevented&&t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function wl(t){let e,n,l,a,s,o,d,f,m,u,g,y,b,h,k,_,v,W,D,L,C,x,w,P,E,$,A,O,T;return{c(){e=c("div"),n=c("div"),l=c("div"),l.innerHTML='<h1 class="svelte-1mxgilx">Darcula</h1>',a=M(),s=c("div"),s.innerHTML='<h1 class="svelte-1mxgilx">Light</h1>',o=M(),d=c("div"),d.innerHTML='<h1 class="svelte-1mxgilx">Moonlight</h1>',f=M(),m=c("div"),m.innerHTML='<h1 class="svelte-1mxgilx">Purple Rain</h1>',u=M(),g=c("div"),g.innerHTML='<h1 class="svelte-1mxgilx">Gruvbox</h1>',y=M(),b=c("div"),b.innerHTML='<h1 class="svelte-1mxgilx">Cat Macchiato</h1>',h=M(),k=c("div"),k.innerHTML='<h1 class="svelte-1mxgilx">Cat Mocha</h1>',_=M(),v=c("div"),v.innerHTML='<h1 class="svelte-1mxgilx">Cat Frappé</h1>',W=M(),D=c("div"),D.innerHTML='<h1 class="svelte-1mxgilx">Deep Ocean</h1>',L=M(),C=c("div"),C.innerHTML='<h1 class="svelte-1mxgilx">Amoled</h1>',x=M(),w=c("div"),w.innerHTML='<h1 class="svelte-1mxgilx">Halloween</h1>',P=M(),E=c("div"),E.innerHTML='<h1 class="svelte-1mxgilx">Theme Selection</h1>',$=M(),A=c("button"),A.innerHTML='<i class="fa-solid fa-palette"></i>',r(l,"id","darcula-theme"),r(l,"class","theme svelte-1mxgilx"),r(s,"id","light-theme"),r(s,"class","theme svelte-1mxgilx"),r(d,"id","moonlight-theme"),r(d,"class","theme svelte-1mxgilx"),r(m,"id","purple-rain-theme"),r(m,"class","theme svelte-1mxgilx"),r(g,"id","gruvbox-theme"),r(g,"class","theme svelte-1mxgilx"),r(b,"id","cat-macchiato"),r(b,"class","theme svelte-1mxgilx"),r(k,"id","cat-mocha"),r(k,"class","theme svelte-1mxgilx"),r(v,"id","cat-frappe"),r(v,"class","theme svelte-1mxgilx"),r(D,"id","deep-ocean-theme"),r(D,"class","theme svelte-1mxgilx"),r(C,"id","amoled-theme"),r(C,"class","theme svelte-1mxgilx"),r(w,"id","halloween-theme"),r(w,"class","theme svelte-1mxgilx"),r(n,"id","selections"),r(n,"class","absolute w-48 h-72 pt-8 flex flex-col justify-around"),r(E,"id","title"),r(E,"class","absolute w-48 h-8 pl-3 flex items-center border-b-2 b border-overlay"),r(A,"id","theme-selector"),r(A,"class","absolute w-7 h-7 right-0 rounded-bl text-xl bg-crust aspect-square text-accent"),r(e,"id","theme-selection"),r(e,"class","relative w-7 h-7 bg-crust overflow-hidden rounded-lg svelte-1mxgilx")},m(F,le){q(F,e,le),i(e,n),i(n,l),i(n,a),i(n,s),i(n,o),i(n,d),i(n,f),i(n,m),i(n,u),i(n,g),i(n,y),i(n,b),i(n,h),i(n,k),i(n,_),i(n,v),i(n,W),i(n,D),i(n,L),i(n,C),i(n,x),i(n,w),i(e,P),i(e,E),i(e,$),i(e,A),O||(T=[R(l,"click",t[3]),R(s,"click",t[4]),R(d,"click",t[5]),R(m,"click",t[6]),R(g,"click",t[7]),R(b,"click",t[8]),R(k,"click",t[9]),R(v,"click",t[10]),R(D,"click",t[11]),R(C,"click",t[12]),R(w,"click",t[13]),R(A,"click",t[0]),Xn(vl.call(null,e)),R(e,"click_outside",t[1])],O=!0)},p:N,i:N,o:N,d(F){F&&z(e),O=!1,ce(T)}}}function bl(t){const e=ot();let n=!1;function l(){n=!n;const W=document.getElementById("theme-selection").classList;W.toggle("w-7"),W.toggle("h-7"),W.toggle("w-48"),W.toggle("h-72"),W.toggle("theme-shadow")}function a(){n&&l()}function s(v){e("select_theme",{theme:v})}return[l,a,s,()=>s("theme-darcula"),()=>s("theme-light"),()=>s("theme-moonlight"),()=>s("theme-purple-rain"),()=>s("theme-gruvbox"),()=>s("theme-cat-macchiato"),()=>s("theme-cat-mocha"),()=>s("theme-cat-frappe"),()=>s("theme-deep-ocean"),()=>s("theme-amoled"),()=>s("theme-halloween")]}class Ml extends _e{constructor(e){super(),pe(this,e,bl,wl,he,{})}}function $l(t){let e,n,l,a,s,o,d,f,m,u,g,y,b,h,k;return l=new Ml({}),l.$on("select_theme",t[2]),{c(){e=c("div"),n=c("div"),ne(l.$$.fragment),a=M(),s=c("button"),s.innerHTML='<i class="fa-solid fa-minus"></i>',o=M(),d=c("button"),d.innerHTML='<i class="fa-solid fa-xmark"></i>',f=M(),m=c("img"),g=M(),y=c("h1"),y.textContent="Weave Manager",r(s,"class","button hover:bg-overlay svelte-l5z4wm"),r(d,"class","button hover:bg-disabled svelte-l5z4wm"),r(n,"id","header-buttons"),r(n,"class","absolute right-0 h-10 flex justify-end gap-2 p-1.5"),Yn(m.src,u=yl)||r(m,"src",u),r(m,"id","weave-icon"),r(m,"class","w-7 h-7"),r(m,"alt","Weave Icon"),r(e,"data-tauri-drag-region",""),r(e,"id","titlebar"),r(e,"class","relative text-xl w-full bg-crust h-10 flex items-center pl-3 gap-3 svelte-l5z4wm")},m(_,v){q(_,e,v),i(e,n),ee(l,n,null),i(n,a),i(n,s),i(n,o),i(n,d),i(e,f),i(e,m),i(e,g),i(e,y),b=!0,h||(k=[R(s,"click",t[0]),R(d,"click",t[1])],h=!0)},p:N,i(_){b||(B(l.$$.fragment,_),b=!0)},o(_){G(l.$$.fragment,_),b=!1},d(_){_&&z(e),te(l),h=!1,ce(k)}}}function kl(t){function e(){Ee.minimize()}function n(){Ee.hide()}function l(a){el.call(this,t,a)}return[e,n,l]}class Wl extends _e{constructor(e){super(),pe(this,e,kl,$l,he,{})}}function Bt(t,e,n){const l=t.slice();return l[23]=e[n],l}function Pl(t){let e,n,l;function a(){return t[14](t[23])}return{c(){e=c("button"),e.textContent="Relaunch",r(e,"class","process-button svelte-1q72joi")},m(s,o){q(s,e,o),n||(l=R(e,"click",a),n=!0)},p(s,o){t=s},d(s){s&&z(e),n=!1,l()}}}function Cl(t){let e,n,l;function a(){return t[13](t[23])}return{c(){e=c("button"),e.textContent="Console",r(e,"class","process-button svelte-1q72joi")},m(s,o){q(s,e,o),n||(l=R(e,"click",a),n=!0)},p(s,o){t=s},d(s){s&&z(e),n=!1,l()}}}function Gt(t){let e,n,l=t[23].client_type+"",a,s,o,d=t[23].version+"",f,m,u,g=Re(t[23].start_time)+"",y,b,h,k,_,v,W,D,L,C,x;function w(){return t[11](t[23])}function P(){return t[12](t[23])}function E(O,T){return O[23].weave_attached?Cl:Pl}let $=E(t),A=$(t);return{c(){e=c("div"),n=c("p"),a=H(l),s=M(),o=c("p"),f=H(d),m=M(),u=c("p"),y=H(g),b=M(),h=c("div"),k=c("button"),k.textContent="Info",_=M(),v=c("button"),v.textContent="Kill",W=M(),A.c(),D=M(),r(n,"class","absolute left-4 svelte-1q72joi"),r(o,"class","svelte-1q72joi"),r(u,"class","absolute right-4 svelte-1q72joi"),r(k,"class","process-button svelte-1q72joi"),r(v,"class","process-button svelte-1q72joi"),r(h,"class","process-buttons w-full h-full absolute top-0 left-0 px-1 py-1 flex flex-row justify-around items-center bg-overlay opacity-0 svelte-1q72joi"),r(e,"class",L="relative process-item "+t[23].client_type+" svelte-1q72joi")},m(O,T){q(O,e,T),i(e,n),i(n,a),i(e,s),i(e,o),i(o,f),i(e,m),i(e,u),i(u,y),i(e,b),i(e,h),i(h,k),i(h,_),i(h,v),i(h,W),A.m(h,null),i(e,D),C||(x=[R(k,"click",w),R(v,"click",P)],C=!0)},p(O,T){t=O,T&16&&l!==(l=t[23].client_type+"")&&V(a,l),T&16&&d!==(d=t[23].version+"")&&V(f,d),T&16&&g!==(g=Re(t[23].start_time)+"")&&V(y,g),$===($=E(t))&&A?A.p(t,T):(A.d(1),A=$(t),A&&(A.c(),A.m(h,null))),T&16&&L!==(L="relative process-item "+t[23].client_type+" svelte-1q72joi")&&r(e,"class",L)},d(O){O&&z(e),A.d(),C=!1,ce(x)}}}function Jt(t){let e,n,l,a,s,o,d,f=t[0].client_type+"",m,u,g,y,b,h,k,_,v,W,D=t[0].version+"",L,C,x,w,P,E,$=t[0].pid+"",A,O,T,F,le,ae,X=Re(t[0].start_time)+"",ue,de,Q,Y,j,K,U=t[0].cwd+"",J,be,me,Me,ke,De,ge,$e=t[0].cmd.join(" ")+"",ye;function Ae(Z,fe){return Z[0].weave_attached?xl:Dl}let xe=Ae(t),we=xe(t);return{c(){e=c("div"),e.textContent="Process Information",n=M(),l=c("div"),a=c("div"),s=c("p"),s.textContent="Client",o=M(),d=c("p"),m=H(f),u=M(),g=c("div"),y=c("p"),y.textContent="Status",b=M(),we.c(),h=M(),k=c("div"),_=c("p"),_.textContent="Version",v=M(),W=c("p"),L=H(D),C=M(),x=c("div"),w=c("p"),w.textContent="PID",P=M(),E=c("p"),A=H($),O=M(),T=c("div"),F=c("p"),F.textContent="Runtime",le=M(),ae=c("p"),ue=H(X),de=M(),Q=c("div"),Y=c("p"),Y.textContent="Working Directory",j=M(),K=c("p"),J=H(U),be=M(),me=c("div"),Me=c("p"),Me.textContent="Command Line",ke=M(),De=c("div"),ge=c("div"),ye=H($e),r(e,"class","w-full h-9 border-b-2 border-overlay flex justify-center items-center svelte-1q72joi"),r(s,"class","font-semibold svelte-1q72joi"),r(d,"class","select-text svelte-1q72joi"),r(a,"class","w-1/3 info-item svelte-1q72joi"),r(y,"class","font-semibold svelte-1q72joi"),r(g,"class","w-1/3 info-item svelte-1q72joi"),r(_,"class","font-semibold svelte-1q72joi"),r(W,"class","select-text svelte-1q72joi"),r(k,"class","w-1/3 info-item svelte-1q72joi"),r(w,"class","font-semibold svelte-1q72joi"),r(E,"class","select-text svelte-1q72joi"),r(x,"class","w-32 info-item svelte-1q72joi"),r(F,"class","font-semibold svelte-1q72joi"),r(ae,"class","select-text svelte-1q72joi"),r(T,"class","w-32 info-item svelte-1q72joi"),r(Y,"class","font-semibold svelte-1q72joi"),r(K,"class","select-text svelte-1q72joi"),r(Q,"class","w-full info-item svelte-1q72joi"),r(Me,"class","font-semibold mb-1 svelte-1q72joi"),r(ge,"class","w-full h-full overflow-y-scroll break-words select-text p-1 svelte-1q72joi"),r(De,"class","w-full h-44 rounded-xl p-1 bg-base svelte-1q72joi"),r(me,"class","w-full h-48 info-item svelte-1q72joi"),r(l,"class","w-full h-full flex flex-row flex-wrap items-end justify-center pb-3 svelte-1q72joi")},m(Z,fe){q(Z,e,fe),q(Z,n,fe),q(Z,l,fe),i(l,a),i(a,s),i(a,o),i(a,d),i(d,m),i(l,u),i(l,g),i(g,y),i(g,b),we.m(g,null),i(l,h),i(l,k),i(k,_),i(k,v),i(k,W),i(W,L),i(l,C),i(l,x),i(x,w),i(x,P),i(x,E),i(E,A),i(l,O),i(l,T),i(T,F),i(T,le),i(T,ae),i(ae,ue),i(l,de),i(l,Q),i(Q,Y),i(Q,j),i(Q,K),i(K,J),i(l,be),i(l,me),i(me,Me),i(me,ke),i(me,De),i(De,ge),i(ge,ye)},p(Z,fe){fe&1&&f!==(f=Z[0].client_type+"")&&V(m,f),xe!==(xe=Ae(Z))&&(we.d(1),we=xe(Z),we&&(we.c(),we.m(g,null))),fe&1&&D!==(D=Z[0].version+"")&&V(L,D),fe&1&&$!==($=Z[0].pid+"")&&V(A,$),fe&1&&X!==(X=Re(Z[0].start_time)+"")&&V(ue,X),fe&1&&U!==(U=Z[0].cwd+"")&&V(J,U),fe&1&&$e!==($e=Z[0].cmd.join(" ")+"")&&V(ye,$e)},d(Z){Z&&z(e),Z&&z(n),Z&&z(l),we.d()}}}function Dl(t){let e;return{c(){e=c("p"),e.textContent="Weave not attached",r(e,"class","svelte-1q72joi")},m(n,l){q(n,e,l)},d(n){n&&z(e)}}}function xl(t){let e;return{c(){e=c("p"),e.textContent="Weave attached",r(e,"class","svelte-1q72joi")},m(n,l){q(n,e,l)},d(n){n&&z(e)}}}function Yt(t){let e,n,l,a,s,o=t[1].client_type+"",d,f,m,u,g,y,b=t[1].version+"",h,k,_,v,W,D,L=t[1].pid+"",C,x,w,P,E,$,A=Re(t[1].start_time)+"",O;return{c(){e=c("div"),n=c("div"),l=c("p"),l.textContent="Client",a=M(),s=c("p"),d=H(o),f=M(),m=c("div"),u=c("p"),u.textContent="Version",g=M(),y=c("p"),h=H(b),k=M(),_=c("div"),v=c("p"),v.textContent="PID",W=M(),D=c("p"),C=H(L),x=M(),w=c("div"),P=c("p"),P.textContent="Runtime",E=M(),$=c("p"),O=H(A),r(l,"class","text-sm font-semibold svelte-1q72joi"),r(s,"class","text-sm select-text svelte-1q72joi"),r(n,"class","w-1/2 info-item svelte-1q72joi"),r(u,"class","text-sm font-semibold svelte-1q72joi"),r(y,"class","text-sm select-text svelte-1q72joi"),r(m,"class","w-1/2 info-item svelte-1q72joi"),r(v,"class","text-sm font-semibold svelte-1q72joi"),r(D,"class","text-sm select-text svelte-1q72joi"),r(_,"class","w-1/2 info-item svelte-1q72joi"),r(P,"class","text-sm font-semibold svelte-1q72joi"),r($,"class","text-sm select-text svelte-1q72joi"),r(w,"class","w-1/2 info-item svelte-1q72joi"),r(e,"class","w-full h-2/3 flex flex-row flex-wrap justify-between items-center svelte-1q72joi")},m(T,F){q(T,e,F),i(e,n),i(n,l),i(n,a),i(n,s),i(s,d),i(e,f),i(e,m),i(m,u),i(m,g),i(m,y),i(y,h),i(e,k),i(e,_),i(_,v),i(_,W),i(_,D),i(D,C),i(e,x),i(e,w),i(w,P),i(w,E),i(w,$),i($,O)},p(T,F){F&2&&o!==(o=T[1].client_type+"")&&V(d,o),F&2&&b!==(b=T[1].version+"")&&V(h,b),F&2&&L!==(L=T[1].pid+"")&&V(C,L),F&2&&A!==(A=Re(T[1].start_time)+"")&&V(O,A)},d(T){T&&z(e)}}}function jl(t){let e,n,l,a,s,o,d,f,m,u,g,y,b,h,k,_,v,W,D,L=[...t[4].values()],C=[];for(let P=0;P<L.length;P+=1)C[P]=Gt(Bt(t,L,P));let x=t[0]&&Jt(t),w=t[1]&&Yt(t);return{c(){e=c("div"),n=c("div"),n.innerHTML=`<h1 class="absolute svelte-1q72joi">Minecraft Processes</h1> 
        <div class="w-full flex justify-end px-2 svelte-1q72joi"><i class="fa-solid fa-display svelte-1q72joi"></i></div>`,l=M(),a=c("div"),s=c("div");for(let P=0;P<C.length;P+=1)C[P].c();o=M(),d=c("dialog"),x&&x.c(),f=M(),m=c("dialog"),u=c("div"),u.textContent="Detected Minecraft Instance",g=M(),y=c("div"),w&&w.c(),b=M(),h=c("div"),k=c("button"),k.textContent="Relaunch with Weave",_=M(),v=c("button"),v.textContent="No Thanks",r(n,"id","minecraft-list-title"),r(n,"class","w-full h-8 bg-surface flex justify-center items-center border-b-2 border-overlay svelte-1q72joi"),r(s,"id","list"),r(s,"class","w-full flex flex-col svelte-1q72joi"),r(a,"id","content"),r(a,"class","w-full h-full pb-8 overflow-y-auto svelte-1q72joi"),r(d,"id","process-info-modal"),r(d,"class","modal w-[30rem] h-[28rem] svelte-1q72joi"),r(u,"class","w-full h-9 border-b-2 border-overlay flex justify-center items-center svelte-1q72joi"),r(k,"class","w-44 h-8 rounded-xl border-2 border-enabled bg-overlay flex justify-center items-center svelte-1q72joi"),r(v,"class","w-24 h-8 rounded-xl bg-overlay flex justify-center items-center svelte-1q72joi"),r(h,"class","w-full h-1/3 flex flex-col justify-around items-center svelte-1q72joi"),r(y,"class","w-full h-full flex flex-col items-center justify-between pb-3 svelte-1q72joi"),r(m,"id","relaunch-modal"),r(m,"class","modal w-[25rem] h-[20rem] svelte-1q72joi"),r(e,"id","minecraft-list"),r(e,"class","w-full h-full bg-surface svelte-1q72joi")},m(P,E){q(P,e,E),i(e,n),i(e,l),i(e,a),i(a,s);for(let $=0;$<C.length;$+=1)C[$]&&C[$].m(s,null);i(e,o),i(e,d),x&&x.m(d,null),t[15](d),i(e,f),i(e,m),i(m,u),i(m,g),i(m,y),w&&w.m(y,null),i(y,b),i(y,h),i(h,k),i(h,_),i(h,v),t[18](m),W||(D=[R(d,"click",modalClicked),R(k,"click",t[16]),R(v,"click",t[17]),R(m,"click",modalClicked)],W=!0)},p(P,[E]){if(E&496){L=[...P[4].values()];let $;for($=0;$<L.length;$+=1){const A=Bt(P,L,$);C[$]?C[$].p(A,E):(C[$]=Gt(A),C[$].c(),C[$].m(s,null))}for(;$<C.length;$+=1)C[$].d(1);C.length=L.length}P[0]?x?x.p(P,E):(x=Jt(P),x.c(),x.m(d,null)):x&&(x.d(1),x=null),P[1]?w?w.p(P,E):(w=Yt(P),w.c(),w.m(y,b)):w&&(w.d(1),w=null)},i:N,o:N,d(P){P&&z(e),Pt(C,P),x&&x.d(),t[15](null),w&&w.d(),t[18](null),W=!1,ce(D)}}}function Re(t){const e=Date.now(),n=Math.floor(e/1e3-t),l=Math.floor(n/3600),a=Math.floor(n%3600/60);let s="";return l>0&&(s+=`${l}h `),a>0&&(s+=`${a}m`),s===""&&(s=`${n}s`),s}function Ll(t,e,n){var l=($=>($.LunarClient="Lunar",$.Forge="Forge",$.Vanilla="Vanilla",$.BadlionClient="Badlion",$))(l||{});let{instances:a=0}=e,{promptRelaunch:s}=e;const o=ot();let d=null,f=null,m,u,g=new Map;async function y(){try{const $=await ve("fetch_minecraft_instances"),A=new Map;for(const O of $){const T=l[O.client_type];let F=O.version.trim();F.includes("-")&&(F=F.substring(0,F.indexOf("-")));const le={pid:O.pid,cmd:O.cmd,cwd:O.cwd,version:F,start_time:O.start_time,client_type:T,weave_attached:O.weave_attached};!g.has(O.pid)&&!O.weave_attached&&s&&(await Ee.setFocus(),n(1,f=le),u.showModal()),A.set(O.pid,le)}n(4,g=A),n(9,a=g.size)}catch($){console.error("Error retrieving process list",$)}}async function b($){u.open&&u.close();try{await h($.pid),g.delete($.pid),$.cmd=$.cmd.filter(A=>!A.startsWith("-Dlog4j.configurationFile=")),await ve("relaunch_with_weave",{cwd:$.cwd,cmdLine:$.cmd})}catch(A){console.error("Error relaunching process",A)}}async function h($){try{await ve("kill_pid",{pid:$})}catch(A){console.error("Error killing process",A)}}async function k($){try{o("switch_console"),await ve("switch_console_output",{pid:$})}catch(A){console.error("Error switching console output",A)}}function _($){n(0,d=$),m.showModal()}let v;Ce(()=>{y(),v=setInterval(async()=>{await y()},1e3)}),rt(()=>{clearInterval(v)});const W=$=>_($),D=async $=>await h($.pid),L=async $=>await k($.pid),C=async $=>await b($);function x($){se[$?"unshift":"push"](()=>{m=$,n(2,m)})}const w=async()=>await b(f),P=()=>u.close();function E($){se[$?"unshift":"push"](()=>{u=$,n(3,u)})}return t.$$set=$=>{"instances"in $&&n(9,a=$.instances),"promptRelaunch"in $&&n(10,s=$.promptRelaunch)},[d,f,m,u,g,b,h,k,_,a,s,W,D,L,C,x,w,P,E]}class El extends _e{constructor(e){super(),pe(this,e,Ll,jl,he,{instances:9,promptRelaunch:10})}}function Al(t){let e,n,l,a,s,o,d,f,m,u,g;return{c(){e=c("div"),n=c("div"),l=c("input"),s=M(),o=c("label"),d=M(),f=c("label"),m=H(t[2]),r(l,"type","checkbox"),r(l,"id",t[1]),r(l,"name","check"),l.checked=a=t[0]?"checked":"",r(l,"class","svelte-gpt5jk"),r(o,"for",t[1]),r(o,"class","svelte-gpt5jk"),r(n,"class","checkbox-container mr-2"),r(f,"class","cursor-pointer"),r(f,"for",t[1]),r(e,"class","toggle-pill flex flex-row items-center")},m(y,b){q(y,e,b),i(e,n),i(n,l),i(n,s),i(n,o),i(e,d),i(e,f),i(f,m),u||(g=R(l,"click",t[3]),u=!0)},p(y,[b]){b&2&&r(l,"id",y[1]),b&1&&a!==(a=y[0]?"checked":"")&&(l.checked=a),b&2&&r(o,"for",y[1]),b&4&&V(m,y[2]),b&2&&r(f,"for",y[1])},i:N,o:N,d(y){y&&z(e),u=!1,g()}}}function Tl(t,e,n){let{id:l}=e,{name:a}=e;const s=ot();let{enabled:o=!0}=e;function d(f){n(0,o=f.target.checked),s("toggle")}return t.$$set=f=>{"id"in f&&n(1,l=f.id),"name"in f&&n(2,a=f.name),"enabled"in f&&n(0,o=f.enabled)},[o,l,a,d]}class pt extends _e{constructor(e){super(),pe(this,e,Tl,Al,he,{id:1,name:2,enabled:0})}}var zl={};ie(zl,{BaseDirectory:()=>oe,Dir:()=>oe,copyFile:()=>Pn,createDir:()=>Wn,exists:()=>Lt,readBinaryFile:()=>ql,readDir:()=>kn,readTextFile:()=>Mn,removeDir:()=>Sl,removeFile:()=>Ol,renameFile:()=>$t,writeBinaryFile:()=>$n,writeFile:()=>Oe,writeTextFile:()=>Oe});var oe=(t=>(t[t.Audio=1]="Audio",t[t.Cache=2]="Cache",t[t.Config=3]="Config",t[t.Data=4]="Data",t[t.LocalData=5]="LocalData",t[t.Desktop=6]="Desktop",t[t.Document=7]="Document",t[t.Download=8]="Download",t[t.Executable=9]="Executable",t[t.Font=10]="Font",t[t.Home=11]="Home",t[t.Picture=12]="Picture",t[t.Public=13]="Public",t[t.Runtime=14]="Runtime",t[t.Template=15]="Template",t[t.Video=16]="Video",t[t.Resource=17]="Resource",t[t.App=18]="App",t[t.Log=19]="Log",t[t.Temp=20]="Temp",t[t.AppConfig=21]="AppConfig",t[t.AppData=22]="AppData",t[t.AppLocalData=23]="AppLocalData",t[t.AppCache=24]="AppCache",t[t.AppLog=25]="AppLog",t))(oe||{});async function Mn(t,e={}){return p({__tauriModule:"Fs",message:{cmd:"readTextFile",path:t,options:e}})}async function ql(t,e={}){let n=await p({__tauriModule:"Fs",message:{cmd:"readFile",path:t,options:e}});return Uint8Array.from(n)}async function Oe(t,e,n){typeof n=="object"&&Object.freeze(n),typeof t=="object"&&Object.freeze(t);let l={path:"",contents:""},a=n;return typeof t=="string"?l.path=t:(l.path=t.path,l.contents=t.contents),typeof e=="string"?l.contents=e!=null?e:"":a=e,p({__tauriModule:"Fs",message:{cmd:"writeFile",path:l.path,contents:Array.from(new TextEncoder().encode(l.contents)),options:a}})}async function $n(t,e,n){typeof n=="object"&&Object.freeze(n),typeof t=="object"&&Object.freeze(t);let l={path:"",contents:[]},a=n;return typeof t=="string"?l.path=t:(l.path=t.path,l.contents=t.contents),e&&"dir"in e?a=e:typeof t=="string"&&(l.contents=e!=null?e:[]),p({__tauriModule:"Fs",message:{cmd:"writeFile",path:l.path,contents:Array.from(l.contents instanceof ArrayBuffer?new Uint8Array(l.contents):l.contents),options:a}})}async function kn(t,e={}){return p({__tauriModule:"Fs",message:{cmd:"readDir",path:t,options:e}})}async function Wn(t,e={}){return p({__tauriModule:"Fs",message:{cmd:"createDir",path:t,options:e}})}async function Sl(t,e={}){return p({__tauriModule:"Fs",message:{cmd:"removeDir",path:t,options:e}})}async function Pn(t,e,n={}){return p({__tauriModule:"Fs",message:{cmd:"copyFile",source:t,destination:e,options:n}})}async function Ol(t,e={}){return p({__tauriModule:"Fs",message:{cmd:"removeFile",path:t,options:e}})}async function $t(t,e,n={}){return p({__tauriModule:"Fs",message:{cmd:"renameFile",oldPath:t,newPath:e,options:n}})}async function Lt(t,e={}){return p({__tauriModule:"Fs",message:{cmd:"exists",path:t,options:e}})}var Il=Object.defineProperty,Rl=(t,e)=>{for(var n in e)Il(t,n,{get:e[n],enumerable:!0})},Fl={};Rl(Fl,{convertFileSrc:()=>Ul,invoke:()=>ct,transformCallback:()=>kt});function Nl(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function kt(t,e=!1){let n=Nl(),l=`_${n}`;return Object.defineProperty(window,l,{value:a=>(e&&Reflect.deleteProperty(window,l),t==null?void 0:t(a)),writable:!1,configurable:!0}),n}async function ct(t,e={}){return new Promise((n,l)=>{let a=kt(o=>{n(o),Reflect.deleteProperty(window,`_${s}`)},!0),s=kt(o=>{l(o),Reflect.deleteProperty(window,`_${a}`)},!0);window.__TAURI_IPC__({cmd:t,callback:a,error:s,...e})})}function Ul(t,e="asset"){let n=encodeURIComponent(t);return navigator.userAgent.includes("Windows")?`https://${e}.localhost/${n}`:`${e}://localhost/${n}`}async function Hl(){return await ct("plugin:autostart|is_enabled")}async function Vl(){await ct("plugin:autostart|enable")}async function Bl(){await ct("plugin:autostart|disable")}function Gl(t){let e,n,l,a,s,o,d,f,m,u,g,y,b,h,k,_;function v(w){t[4](w)}let W={id:"prompt-weave",name:"Prompt Relaunch"};t[0].prompt_relaunch!==void 0&&(W.enabled=t[0].prompt_relaunch),o=new pt({props:W}),se.push(()=>Ke(o,"enabled",v)),o.$on("toggle",t[5]);function D(w){t[6](w)}let L={id:"startup-run",name:"Run on Startup"};t[0].startup_run!==void 0&&(L.enabled=t[0].startup_run),u=new pt({props:L}),se.push(()=>Ke(u,"enabled",D)),u.$on("toggle",t[7]);function C(w){t[8](w)}let x={id:"auto-update",name:"Auto Update"};return t[0].auto_update!==void 0&&(x.enabled=t[0].auto_update),h=new pt({props:x}),se.push(()=>Ke(h,"enabled",C)),h.$on("toggle",t[9]),{c(){e=c("div"),n=c("div"),n.innerHTML=`<h1 class="absolute">Settings</h1> 
        <div class="w-full flex justify-end px-2"><i class="fa-solid fa-gear"></i></div>`,l=M(),a=c("div"),s=c("div"),ne(o.$$.fragment),f=M(),m=c("div"),ne(u.$$.fragment),y=M(),b=c("div"),ne(h.$$.fragment),r(n,"id","settings-title"),r(n,"class","w-full h-8 flex justify-center items-center border-b-2 border-overlay"),r(s,"class","setting-toggle svelte-b1hzht"),r(m,"class","setting-toggle svelte-b1hzht"),r(b,"class","setting-toggle svelte-b1hzht"),r(a,"id","settings"),r(a,"class","flex flex-col w-full h-full pt-2 pb-8 gap-2"),r(e,"id","settings-content"),r(e,"class","w-full h-full")},m(w,P){q(w,e,P),i(e,n),i(e,l),i(e,a),i(a,s),ee(o,s,null),i(a,f),i(a,m),ee(u,m,null),i(a,y),i(a,b),ee(h,b,null),_=!0},p(w,[P]){const E={};!d&&P&1&&(d=!0,E.enabled=w[0].prompt_relaunch,Je(()=>d=!1)),o.$set(E);const $={};!g&&P&1&&(g=!0,$.enabled=w[0].startup_run,Je(()=>g=!1)),u.$set($);const A={};!k&&P&1&&(k=!0,A.enabled=w[0].auto_update,Je(()=>k=!1)),h.$set(A)},i(w){_||(B(o.$$.fragment,w),B(u.$$.fragment,w),B(h.$$.fragment,w),_=!0)},o(w){G(o.$$.fragment,w),G(u.$$.fragment,w),G(h.$$.fragment,w),_=!1},d(w){w&&z(e),te(o),te(u),te(h)}}}function Jl(t,e,n){const l=ot(),a={prompt_relaunch:!0,startup_run:!0,auto_update:!0,theme:"theme-darcula",loader_version:"none"};let s=a;async function o(_,v){n(0,s[_]=v,s),await Oe(".weave/manager.json",JSON.stringify(s),{dir:oe.Home}),l("update",s)}async function d(){await Oe(".weave/manager.json",JSON.stringify(s),{dir:oe.Home}),l("update",s)}async function f(){await d();const _=await Hl();s.startup_run!==_&&(s.startup_run?await Vl():await Bl())}async function m(){var D,L,C,x,w;const _=await Mn(".weave/manager.json",{dir:oe.Home}),v=JSON.parse(_),W=Object.keys(a).filter(P=>!(P in v));W.length>0&&(W.forEach(P=>{v[P]=a[P]}),await Oe(".weave/manager.json",JSON.stringify(v),{dir:oe.Home})),n(0,s={prompt_relaunch:(D=v.prompt_relaunch)!=null?D:a.prompt_relaunch,startup_run:(L=v.startup_run)!=null?L:a.startup_run,auto_update:(C=v.auto_update)!=null?C:a.auto_update,theme:(x=v.theme)!=null?x:a.theme,loader_version:(w=v.loader_version)!=null?w:a.loader_version})}Ce(async()=>{await Lt(".weave/manager.json",{dir:oe.Home})?(await m(),l("update",s)):await f()});function u(_){t.$$.not_equal(s.prompt_relaunch,_)&&(s.prompt_relaunch=_,n(0,s))}const g=async()=>await d();function y(_){t.$$.not_equal(s.startup_run,_)&&(s.startup_run=_,n(0,s))}const b=async()=>await f();function h(_){t.$$.not_equal(s.auto_update,_)&&(s.auto_update=_,n(0,s))}return[s,d,f,o,u,g,y,b,h,async()=>await d()]}class Yl extends _e{constructor(e){super(),pe(this,e,Jl,Gl,he,{writeSetting:3})}get writeSetting(){return this.$$.ctx[3]}}var Kl=Object.defineProperty,Et=(t,e)=>{for(var n in e)Kl(t,n,{get:e[n],enumerable:!0})},Xl={};Et(Xl,{convertFileSrc:()=>Ql,invoke:()=>ut,transformCallback:()=>et});function Zl(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function et(t,e=!1){let n=Zl(),l=`_${n}`;return Object.defineProperty(window,l,{value:a=>(e&&Reflect.deleteProperty(window,l),t==null?void 0:t(a)),writable:!1,configurable:!0}),n}async function ut(t,e={}){return new Promise((n,l)=>{let a=et(o=>{n(o),Reflect.deleteProperty(window,`_${s}`)},!0),s=et(o=>{l(o),Reflect.deleteProperty(window,`_${a}`)},!0);window.__TAURI_IPC__({cmd:t,callback:a,error:s,...e})})}function Ql(t,e="asset"){let n=encodeURIComponent(t);return navigator.userAgent.includes("Windows")?`https://${e}.localhost/${n}`:`${e}://localhost/${n}`}async function S(t){return ut("tauri",t)}var ea={};Et(ea,{TauriEvent:()=>jn,emit:()=>la,listen:()=>ta,once:()=>na});async function Cn(t,e){return S({__tauriModule:"Event",message:{cmd:"unlisten",event:t,eventId:e}})}async function Dn(t,e,n){await S({__tauriModule:"Event",message:{cmd:"emit",event:t,windowLabel:e,payload:n}})}async function At(t,e,n){return S({__tauriModule:"Event",message:{cmd:"listen",event:t,windowLabel:e,handler:et(n)}}).then(l=>async()=>Cn(t,l))}async function xn(t,e,n){return At(t,e,l=>{n(l),Cn(t,l.id).catch(()=>{})})}var jn=(t=>(t.WINDOW_RESIZED="tauri://resize",t.WINDOW_MOVED="tauri://move",t.WINDOW_CLOSE_REQUESTED="tauri://close-requested",t.WINDOW_CREATED="tauri://window-created",t.WINDOW_DESTROYED="tauri://destroyed",t.WINDOW_FOCUS="tauri://focus",t.WINDOW_BLUR="tauri://blur",t.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",t.WINDOW_THEME_CHANGED="tauri://theme-changed",t.WINDOW_FILE_DROP="tauri://file-drop",t.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",t.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",t.MENU="tauri://menu",t.CHECK_UPDATE="tauri://update",t.UPDATE_AVAILABLE="tauri://update-available",t.INSTALL_UPDATE="tauri://update-install",t.STATUS_UPDATE="tauri://update-status",t.DOWNLOAD_PROGRESS="tauri://update-download-progress",t))(jn||{});async function ta(t,e){return At(t,null,e)}async function na(t,e){return xn(t,null,e)}async function la(t,e){return Dn(t,void 0,e)}var aa={};Et(aa,{CloseRequestedEvent:()=>Sn,LogicalPosition:()=>En,LogicalSize:()=>Ln,PhysicalPosition:()=>nt,PhysicalSize:()=>tt,UserAttentionType:()=>An,WebviewWindow:()=>Fe,WebviewWindowHandle:()=>zn,WindowManager:()=>qn,appWindow:()=>lt,availableMonitors:()=>oa,currentMonitor:()=>ia,getAll:()=>Tn,getCurrent:()=>sa,primaryMonitor:()=>ra});var Ln=class{constructor(e,n){this.type="Logical",this.width=e,this.height=n}},tt=class{constructor(e,n){this.type="Physical",this.width=e,this.height=n}toLogical(e){return new Ln(this.width/e,this.height/e)}},En=class{constructor(e,n){this.type="Logical",this.x=e,this.y=n}},nt=class{constructor(e,n){this.type="Physical",this.x=e,this.y=n}toLogical(e){return new En(this.x/e,this.y/e)}},An=(t=>(t[t.Critical=1]="Critical",t[t.Informational=2]="Informational",t))(An||{});function sa(){return new Fe(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0})}function Tn(){return window.__TAURI_METADATA__.__windows.map(t=>new Fe(t.label,{skip:!0}))}var Kt=["tauri://created","tauri://error"],zn=class{constructor(e){this.label=e,this.listeners=Object.create(null)}async listen(e,n){return this._handleTauriEvent(e,n)?Promise.resolve(()=>{let l=this.listeners[e];l.splice(l.indexOf(n),1)}):At(e,this.label,n)}async once(e,n){return this._handleTauriEvent(e,n)?Promise.resolve(()=>{let l=this.listeners[e];l.splice(l.indexOf(n),1)}):xn(e,this.label,n)}async emit(e,n){if(Kt.includes(e)){for(let l of this.listeners[e]||[])l({event:e,id:-1,windowLabel:this.label,payload:n});return Promise.resolve()}return Dn(e,this.label,n)}_handleTauriEvent(e,n){return Kt.includes(e)?(e in this.listeners?this.listeners[e].push(n):this.listeners[e]=[n],!0):!1}},qn=class extends zn{async scaleFactor(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})}async innerPosition(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(({x:e,y:n})=>new nt(e,n))}async outerPosition(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(({x:e,y:n})=>new nt(e,n))}async innerSize(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(({width:e,height:n})=>new tt(e,n))}async outerSize(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(({width:e,height:n})=>new tt(e,n))}async isFullscreen(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})}async isMaximized(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})}async isDecorated(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})}async isResizable(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})}async isVisible(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})}async theme(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})}async center(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})}async requestUserAttention(e){let n=null;return e&&(e===1?n={type:"Critical"}:n={type:"Informational"}),S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:n}}}})}async setResizable(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:e}}}})}async setTitle(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:e}}}})}async maximize(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})}async unmaximize(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})}async toggleMaximize(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})}async minimize(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})}async unminimize(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})}async show(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})}async hide(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})}async close(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})}async setDecorations(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:e}}}})}async setAlwaysOnTop(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:e}}}})}async setSize(e){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:e.type,data:{width:e.width,height:e.height}}}}}})}async setMinSize(e){if(e&&e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:e?{type:e.type,data:{width:e.width,height:e.height}}:null}}}})}async setMaxSize(e){if(e&&e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:e?{type:e.type,data:{width:e.width,height:e.height}}:null}}}})}async setPosition(e){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:e.type,data:{x:e.x,y:e.y}}}}}})}async setFullscreen(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:e}}}})}async setFocus(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})}async setIcon(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof e=="string"?e:Array.from(e)}}}}})}async setSkipTaskbar(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:e}}}})}async setCursorGrab(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:e}}}})}async setCursorVisible(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:e}}}})}async setCursorIcon(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:e}}}})}async setCursorPosition(e){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:e.type,data:{x:e.x,y:e.y}}}}}})}async setIgnoreCursorEvents(e){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIgnoreCursorEvents",payload:e}}}})}async startDragging(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})}async onResized(e){return this.listen("tauri://resize",e)}async onMoved(e){return this.listen("tauri://move",e)}async onCloseRequested(e){return this.listen("tauri://close-requested",n=>{let l=new Sn(n);Promise.resolve(e(l)).then(()=>{if(!l.isPreventDefault())return this.close()})})}async onFocusChanged(e){let n=await this.listen("tauri://focus",a=>{e({...a,payload:!0})}),l=await this.listen("tauri://blur",a=>{e({...a,payload:!1})});return()=>{n(),l()}}async onScaleChanged(e){return this.listen("tauri://scale-change",e)}async onMenuClicked(e){return this.listen("tauri://menu",e)}async onFileDropEvent(e){let n=await this.listen("tauri://file-drop",s=>{e({...s,payload:{type:"drop",paths:s.payload}})}),l=await this.listen("tauri://file-drop-hover",s=>{e({...s,payload:{type:"hover",paths:s.payload}})}),a=await this.listen("tauri://file-drop-cancelled",s=>{e({...s,payload:{type:"cancel"}})});return()=>{n(),l(),a()}}async onThemeChanged(e){return this.listen("tauri://theme-changed",e)}},Sn=class{constructor(e){this._preventDefault=!1,this.event=e.event,this.windowLabel=e.windowLabel,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}},Fe=class extends qn{constructor(e,n={}){super(e),n!=null&&n.skip||S({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:{label:e,...n}}}}).then(async()=>this.emit("tauri://created")).catch(async l=>this.emit("tauri://error",l))}static getByLabel(e){return Tn().some(n=>n.label===e)?new Fe(e,{skip:!0}):null}},lt;"__TAURI_METADATA__"in window?lt=new Fe(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),lt=new Fe("main",{skip:!0}));function Tt(t){return t===null?null:{name:t.name,scaleFactor:t.scaleFactor,position:new nt(t.position.x,t.position.y),size:new tt(t.size.width,t.size.height)}}async function ia(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}}).then(Tt)}async function ra(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}}).then(Tt)}async function oa(){return S({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}}).then(t=>t.map(Tt))}const ca=lt;async function ua(t){await ut("plugin:fs-watch|unwatch",{id:t})}async function da(t,e,n={}){const l={recursive:!1,...n,delayMs:null};let a;typeof t=="string"?a=[t]:a=t;const s=window.crypto.getRandomValues(new Uint32Array(1))[0];await ut("plugin:fs-watch|watch",{id:s,paths:a,options:l});const o=await ca.listen(`watcher://raw-event/${s}`,d=>{e(d.payload)});return()=>{ua(s),o()}}var On={};ie(On,{Child:()=>In,Command:()=>Rn,EventEmitter:()=>Xe,open:()=>Wt});async function ma(t,e,n=[],l){return typeof n=="object"&&Object.freeze(n),p({__tauriModule:"Shell",message:{cmd:"execute",program:e,args:n,options:l,onEventFn:Le(t)}})}var Xe=class{constructor(){this.eventListeners=Object.create(null)}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}on(e,n){return e in this.eventListeners?this.eventListeners[e].push(n):this.eventListeners[e]=[n],this}once(e,n){let l=(...a)=>{this.removeListener(e,l),n(...a)};return this.addListener(e,l)}off(e,n){return e in this.eventListeners&&(this.eventListeners[e]=this.eventListeners[e].filter(l=>l!==n)),this}removeAllListeners(e){return e?delete this.eventListeners[e]:this.eventListeners=Object.create(null),this}emit(e,...n){if(e in this.eventListeners){let l=this.eventListeners[e];for(let a of l)a(...n);return!0}return!1}listenerCount(e){return e in this.eventListeners?this.eventListeners[e].length:0}prependListener(e,n){return e in this.eventListeners?this.eventListeners[e].unshift(n):this.eventListeners[e]=[n],this}prependOnceListener(e,n){let l=(...a)=>{this.removeListener(e,l),n(...a)};return this.prependListener(e,l)}},In=class{constructor(e){this.pid=e}async write(e){return p({__tauriModule:"Shell",message:{cmd:"stdinWrite",pid:this.pid,buffer:typeof e=="string"?e:Array.from(e)}})}async kill(){return p({__tauriModule:"Shell",message:{cmd:"killChild",pid:this.pid}})}},Rn=class extends Xe{constructor(e,n=[],l){super(),this.stdout=new Xe,this.stderr=new Xe,this.program=e,this.args=typeof n=="string"?[n]:n,this.options=l!=null?l:{}}static sidecar(e,n=[],l){let a=new Rn(e,n,l);return a.options.sidecar=!0,a}async spawn(){return ma(e=>{switch(e.event){case"Error":this.emit("error",e.payload);break;case"Terminated":this.emit("close",e.payload);break;case"Stdout":this.stdout.emit("data",e.payload);break;case"Stderr":this.stderr.emit("data",e.payload);break}},this.program,this.args,this.options).then(e=>new In(e))}async execute(){return new Promise((e,n)=>{this.on("error",n);let l=[],a=[];this.stdout.on("data",s=>{l.push(s)}),this.stderr.on("data",s=>{a.push(s)}),this.on("close",s=>{e({code:s.code,signal:s.signal,stdout:l.join(`
`),stderr:a.join(`
`)})}),this.spawn().catch(n)})}};async function Wt(t,e){return p({__tauriModule:"Shell",message:{cmd:"open",path:t,with:e}})}function zt(){return navigator.appVersion.includes("Win")}var fa={};ie(fa,{BaseDirectory:()=>oe,appCacheDir:()=>ga,appConfigDir:()=>Fn,appDataDir:()=>pa,appDir:()=>ha,appLocalDataDir:()=>_a,appLogDir:()=>Nn,audioDir:()=>ya,basename:()=>Ua,cacheDir:()=>va,configDir:()=>wa,dataDir:()=>ba,delimiter:()=>Sa,desktopDir:()=>Ma,dirname:()=>Fa,documentDir:()=>$a,downloadDir:()=>ka,executableDir:()=>Wa,extname:()=>Na,fontDir:()=>Pa,homeDir:()=>at,isAbsolute:()=>Ha,join:()=>Ra,localDataDir:()=>Ca,logDir:()=>za,normalize:()=>Ia,pictureDir:()=>Da,publicDir:()=>xa,resolve:()=>Oa,resolveResource:()=>La,resourceDir:()=>ja,runtimeDir:()=>Ea,sep:()=>qa,templateDir:()=>Aa,videoDir:()=>Ta});async function ha(){return Fn()}async function Fn(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:21}})}async function pa(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:22}})}async function _a(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:23}})}async function ga(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:24}})}async function ya(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:1}})}async function va(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:2}})}async function wa(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:3}})}async function ba(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:4}})}async function Ma(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:6}})}async function $a(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:7}})}async function ka(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:8}})}async function Wa(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:9}})}async function Pa(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:10}})}async function at(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:11}})}async function Ca(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:5}})}async function Da(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:12}})}async function xa(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:13}})}async function ja(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:17}})}async function La(t){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:t,directory:17}})}async function Ea(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:14}})}async function Aa(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:15}})}async function Ta(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:16}})}async function za(){return Nn()}async function Nn(){return p({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:25}})}var qa=zt()?"\\":"/",Sa=zt()?";":":";async function Oa(...t){return p({__tauriModule:"Path",message:{cmd:"resolve",paths:t}})}async function Ia(t){return p({__tauriModule:"Path",message:{cmd:"normalize",path:t}})}async function Ra(...t){return p({__tauriModule:"Path",message:{cmd:"join",paths:t}})}async function Fa(t){return p({__tauriModule:"Path",message:{cmd:"dirname",path:t}})}async function Na(t){return p({__tauriModule:"Path",message:{cmd:"extname",path:t}})}async function Ua(t,e){return p({__tauriModule:"Path",message:{cmd:"basename",path:t,ext:e}})}async function Ha(t){return p({__tauriModule:"Path",message:{cmd:"isAbsolute",path:t}})}function Xt(t,e,n){const l=t.slice();return l[13]=e[n],l}function Va(t){let e,n,l;function a(){return t[9](t[13])}return{c(){e=c("button"),e.textContent="Disable",r(e,"class","mod-button svelte-q476g2")},m(s,o){q(s,e,o),n||(l=R(e,"click",a),n=!0)},p(s,o){t=s},d(s){s&&z(e),n=!1,l()}}}function Ba(t){let e,n,l;function a(){return t[8](t[13])}return{c(){e=c("button"),e.textContent="Enable",r(e,"class","mod-button svelte-q476g2")},m(s,o){q(s,e,o),n||(l=R(e,"click",a),n=!0)},p(s,o){t=s},d(s){s&&z(e),n=!1,l()}}}function Zt(t,e){let n,l,a=e[13].name+"",s,o,d,f=e[13].version+"",m,u,g,y,b,h,k,_,v,W;function D(){return e[7](e[13])}function L(w,P){return P&1&&(h=null),h==null&&(h=!!w[13].path.endsWith(".disabled")),h?Ba:Va}let C=L(e,-1),x=C(e);return{key:t,first:null,c(){n=c("div"),l=c("p"),s=H(a),o=M(),d=c("p"),m=H(f),u=M(),g=c("div"),y=c("button"),y.textContent="Info",b=M(),x.c(),k=M(),r(l,"class","svelte-q476g2"),r(d,"class","svelte-q476g2"),r(y,"class","mod-button svelte-q476g2"),r(g,"class","mod-buttons w-full h-full absolute top-0 left-0 px-1 py-1 flex flex-row justify-around items-center bg-overlay opacity-0 svelte-q476g2"),r(n,"class",_="relative mod-item "+(e[13].path.endsWith(".disabled")?"bg-crust":"bg-surface")+" svelte-q476g2"),this.first=n},m(w,P){q(w,n,P),i(n,l),i(l,s),i(n,o),i(n,d),i(d,m),i(n,u),i(n,g),i(g,y),i(g,b),x.m(g,null),i(n,k),v||(W=R(y,"click",D),v=!0)},p(w,P){e=w,P&1&&a!==(a=e[13].name+"")&&V(s,a),P&1&&f!==(f=e[13].version+"")&&V(m,f),C===(C=L(e,P))&&x?x.p(e,P):(x.d(1),x=C(e),x&&(x.c(),x.m(g,null))),P&1&&_!==(_="relative mod-item "+(e[13].path.endsWith(".disabled")?"bg-crust":"bg-surface")+" svelte-q476g2")&&r(n,"class",_)},d(w){w&&z(n),x.d(),v=!1,W()}}}function Qt(t){let e,n,l,a,s,o,d,f=t[1].name+"",m,u,g,y,b,h,k=t[1].version+"",_,v,W,D,L,C,x=t[1].author+"",w,P,E,$,A,O,T=t[1].path.endsWith(".disabled")?"Disabled":"Enabled",F,le,ae,X,ue,de,Q=t[1].link+"",Y,j,K;return{c(){e=c("div"),e.textContent="Mod Information",n=M(),l=c("div"),a=c("div"),s=c("p"),s.textContent="Name",o=M(),d=c("p"),m=H(f),u=M(),g=c("div"),y=c("p"),y.textContent="Version",b=M(),h=c("p"),_=H(k),v=M(),W=c("div"),D=c("p"),D.textContent="Author",L=M(),C=c("p"),w=H(x),P=M(),E=c("div"),$=c("p"),$.textContent="Status",A=M(),O=c("p"),F=H(T),le=M(),ae=c("div"),X=c("p"),X.textContent="Website",ue=M(),de=c("button"),Y=H(Q),r(e,"class","w-full h-9 border-b-2 border-overlay flex justify-center items-center svelte-q476g2"),r(s,"class","font-semibold svelte-q476g2"),r(d,"class","select-text svelte-q476g2"),r(a,"class","modal-mod-info-item svelte-q476g2"),r(y,"class","font-semibold svelte-q476g2"),r(h,"class","select-text svelte-q476g2"),r(g,"class","modal-mod-info-item svelte-q476g2"),r(D,"class","font-semibold svelte-q476g2"),r(C,"class","select-text svelte-q476g2"),r(W,"class","modal-mod-info-item svelte-q476g2"),r($,"class","font-semibold svelte-q476g2"),r(O,"class","select-text svelte-q476g2"),r(E,"class","modal-mod-info-item svelte-q476g2"),r(X,"class","text-sm font-semibold svelte-q476g2"),r(de,"class","text-sm svelte-q476g2"),r(ae,"class","w-full text-center svelte-q476g2"),r(l,"class","w-full h-full flex flex-row flex-wrap items-end justify-between pb-3 svelte-q476g2")},m(U,J){q(U,e,J),q(U,n,J),q(U,l,J),i(l,a),i(a,s),i(a,o),i(a,d),i(d,m),i(l,u),i(l,g),i(g,y),i(g,b),i(g,h),i(h,_),i(l,v),i(l,W),i(W,D),i(W,L),i(W,C),i(C,w),i(l,P),i(l,E),i(E,$),i(E,A),i(E,O),i(O,F),i(l,le),i(l,ae),i(ae,X),i(ae,ue),i(ae,de),i(de,Y),j||(K=R(de,"click",t[10]),j=!0)},p(U,J){J&2&&f!==(f=U[1].name+"")&&V(m,f),J&2&&k!==(k=U[1].version+"")&&V(_,k),J&2&&x!==(x=U[1].author+"")&&V(w,x),J&2&&T!==(T=U[1].path.endsWith(".disabled")?"Disabled":"Enabled")&&V(F,T),J&2&&Q!==(Q=U[1].link+"")&&V(Y,Q)},d(U){U&&z(e),U&&z(n),U&&z(l),j=!1,K()}}}function Ga(t){let e,n,l,a,s,o,d,f,m,u=[],g=new Map,y,b,h,k,_=t[0];const v=D=>D[13].path;for(let D=0;D<_.length;D+=1){let L=Xt(t,_,D),C=v(L);g.set(C,u[D]=Zt(C,L))}let W=t[1]&&Qt(t);return{c(){e=c("div"),n=c("div"),l=c("h1"),l.textContent="Weave Mods",a=M(),s=c("div"),o=c("i"),d=M(),f=c("div"),m=c("div");for(let D=0;D<u.length;D+=1)u[D].c();y=M(),b=c("dialog"),W&&W.c(),r(l,"class","absolute svelte-q476g2"),r(o,"class","fa-regular fa-folder-open svelte-q476g2"),r(s,"class","w-full flex justify-end px-2 svelte-q476g2"),r(n,"id","mod-list-title"),r(n,"class","w-full h-8 flex justify-center items-center border-b-2 border-overlay svelte-q476g2"),r(m,"id","list"),r(m,"class","w-full flex flex-col svelte-q476g2"),r(f,"id","content"),r(f,"class","w-full h-full pb-8 overflow-y-auto svelte-q476g2"),r(b,"class","modal w-[26rem] h-[14rem] svelte-q476g2"),r(e,"id","mod-list"),r(e,"class","w-full h-full svelte-q476g2")},m(D,L){q(D,e,L),i(e,n),i(n,l),i(n,a),i(n,s),i(s,o),i(e,d),i(e,f),i(f,m);for(let C=0;C<u.length;C+=1)u[C]&&u[C].m(m,null);i(e,y),i(e,b),W&&W.m(b,null),t[11](b),h||(k=[R(o,"click",t[6]),R(b,"click",modalClicked)],h=!0)},p(D,[L]){L&57&&(_=D[0],u=il(u,L,v,1,D,_,g,m,sl,Zt,null,Xt)),D[1]?W?W.p(D,L):(W=Qt(D),W.c(),W.m(b,null)):W&&(W.d(1),W=null)},i:N,o:N,d(D){D&&z(e);for(let L=0;L<u.length;L+=1)u[L].d();W&&W.d(),t[11](null),h=!1,ce(k)}}}function Ja(t,e,n){let l=[],a,s;function o(_){n(1,a=_),s.showModal()}async function d(){const _=await kn(".weave/mods",{dir:oe.Home});n(0,l=await Promise.all(_.filter(v=>v.name.includes(".jar")&&v.children==null).map(async v=>({path:v.path,...await ve("read_mod_config",{path:v.path})}))))}async function f(_){await $t(_,_+".disabled")}async function m(_){await $t(_,_.replace(".disabled",""))}Ce(async()=>{await d(),await da(`${await at()}/.weave/mods`,async()=>await d())});const u=async()=>await Wt(await at()+".weave/mods"),g=_=>o(_),y=async _=>await m(_.path),b=async _=>await f(_.path),h=async()=>Wt(a.link);function k(_){se[_?"unshift":"push"](()=>{s=_,n(2,s)})}return[l,a,s,o,f,m,u,g,y,b,h,k]}class Ya extends _e{constructor(e){super(),pe(this,e,Ja,Ga,he,{})}}function Ka(t){let e,n,l,a,s,o;return{c(){e=c("div"),n=c("h1"),l=H(t[0]),a=M(),s=c("h1"),o=H(t[1]),r(n,"class","font-semibold"),r(e,"id","statistic"),r(e,"class","w-1/2 h-1/4 flex flex-col items-center justify-center")},m(d,f){q(d,e,f),i(e,n),i(n,l),i(e,a),i(e,s),i(s,o)},p(d,[f]){f&1&&V(l,d[0]),f&2&&V(o,d[1])},i:N,o:N,d(d){d&&z(e)}}}function Xa(t,e,n){let{name:l}=e,{value:a}=e;return t.$$set=s=>{"name"in s&&n(0,l=s.name),"value"in s&&n(1,a=s.value)},[l,a]}class Ge extends _e{constructor(e){super(),pe(this,e,Xa,Ka,he,{name:0,value:1})}}function Za(t){let e,n,l,a,s,o,d,f,m,u,g,y,b;return o=new Ge({props:{name:"Time Played",value:t[3]}}),f=new Ge({props:{name:"Avg. Launch",value:t[2]}}),u=new Ge({props:{name:"Instances",value:t[0]}}),y=new Ge({props:{name:"Mem Usage",value:t[1]+"mb"}}),{c(){e=c("div"),n=c("div"),n.innerHTML=`<h1 class="absolute">Analytics</h1> 
        <div class="w-full flex justify-end px-2"><i class="fa-solid fa-chart-simple"></i></div>`,l=M(),a=c("div"),s=c("div"),ne(o.$$.fragment),d=M(),ne(f.$$.fragment),m=M(),ne(u.$$.fragment),g=M(),ne(y.$$.fragment),r(n,"id","analytics-title"),r(n,"class","w-full h-8 flex justify-center items-center border-b-2 border-overlay"),r(s,"id","statistics"),r(s,"class","w-full h-full flex flex-row flex-wrap items-center justify-center"),r(a,"id","content"),r(a,"class","w-full h-full pb-8"),r(e,"id","analytics"),r(e,"class","w-full h-full")},m(h,k){q(h,e,k),i(e,n),i(e,l),i(e,a),i(a,s),ee(o,s,null),i(s,d),ee(f,s,null),i(s,m),ee(u,s,null),i(s,g),ee(y,s,null),b=!0},p(h,[k]){const _={};k&8&&(_.value=h[3]),o.$set(_);const v={};k&4&&(v.value=h[2]),f.$set(v);const W={};k&1&&(W.value=h[0]),u.$set(W);const D={};k&2&&(D.value=h[1]+"mb"),y.$set(D)},i(h){b||(B(o.$$.fragment,h),B(f.$$.fragment,h),B(u.$$.fragment,h),B(y.$$.fragment,h),b=!0)},o(h){G(o.$$.fragment,h),G(f.$$.fragment,h),G(u.$$.fragment,h),G(y.$$.fragment,h),b=!1},d(h){h&&z(e),te(o),te(f),te(u),te(y)}}}function Qa(t){const e=Math.floor(t/1e3),n=Math.floor(e/3600),l=Math.floor(e%3600/60),a=e%60;return`${n}h ${l}m ${a}s`}function es(t,e,n){let{instances:l}=e,a,s,o;async function d(){try{const[u,g]=await ve("get_memory_usage");n(1,a=(u/1e6).toFixed(1))}catch(u){console.error("Error retrieving memory usage:",u),n(1,a="N/A")}}async function f(){try{const u=await ve("get_analytics");n(2,s=`${u.average_launch_time.toFixed(1)}s`),u.average_launch_time==-1&&n(2,s="N/A"),n(3,o=Qa(u.time_played))}catch(u){console.error("Error retrieving average launch time:",u),n(2,s="N/A")}}let m;return Ce(()=>{d(),f(),m=setInterval(()=>{d(),f()},2e3)}),rt(()=>{clearInterval(m)}),t.$$set=u=>{"instances"in u&&n(0,l=u.instances)},[l,a,s,o]}class ts extends _e{constructor(e){super(),pe(this,e,es,Za,he,{instances:0})}}function ns(t){let e;return{c(){e=c("div"),r(e,"class","spin svelte-cd0kex")},m(n,l){q(n,e,l)},p:N,i:N,o:N,d(n){n&&z(e)}}}class qt extends _e{constructor(e){super(),pe(this,e,null,ns,he,{})}}var ls={};ie(ls,{checkUpdate:()=>ss,installUpdate:()=>as,onUpdaterEvent:()=>St});async function St(t){return Se("tauri://update-status",e=>{t(e==null?void 0:e.payload)})}async function as(){let t;function e(){t&&t(),t=void 0}return new Promise((n,l)=>{function a(s){if(s.error){e(),l(s.error);return}s.status==="DONE"&&(e(),n())}St(a).then(s=>{t=s}).catch(s=>{throw e(),s}),xt("tauri://update-install").catch(s=>{throw e(),s})})}async function ss(){let t;function e(){t&&t(),t=void 0}return new Promise((n,l)=>{function a(o){e(),n({manifest:o,shouldUpdate:!0})}function s(o){if(o.error){e(),l(o.error);return}o.status==="UPTODATE"&&(e(),n({shouldUpdate:!1}))}fn("tauri://update-available",o=>{a(o==null?void 0:o.payload)}).catch(o=>{throw e(),o}),St(s).then(o=>{t=o}).catch(o=>{throw e(),o}),xt("tauri://update").catch(o=>{throw e(),o})})}var is={};ie(is,{isPermissionGranted:()=>rs,requestPermission:()=>os,sendNotification:()=>cs});async function rs(){return window.Notification.permission!=="default"?Promise.resolve(window.Notification.permission==="granted"):p({__tauriModule:"Notification",message:{cmd:"isNotificationPermissionGranted"}})}async function os(){return window.Notification.requestPermission()}function cs(t){typeof t=="string"?new window.Notification(t):new window.Notification(t.title,t)}var us={};ie(us,{EOL:()=>ds,arch:()=>ps,locale:()=>gs,platform:()=>ms,tempdir:()=>_s,type:()=>hs,version:()=>fs});var ds=zt()?`\r
`:`
`;async function ms(){return p({__tauriModule:"Os",message:{cmd:"platform"}})}async function fs(){return p({__tauriModule:"Os",message:{cmd:"version"}})}async function hs(){return p({__tauriModule:"Os",message:{cmd:"osType"}})}async function ps(){return p({__tauriModule:"Os",message:{cmd:"arch"}})}async function _s(){return p({__tauriModule:"Os",message:{cmd:"tempdir"}})}async function gs(){return p({__tauriModule:"Os",message:{cmd:"locale"}})}var ys={};ie(ys,{exit:()=>vs,relaunch:()=>Un});async function vs(t=0){return p({__tauriModule:"Process",message:{cmd:"exit",exitCode:t}})}async function Un(){return p({__tauriModule:"Process",message:{cmd:"relaunch"}})}var ws={};ie(ws,{getName:()=>Ms,getTauriVersion:()=>$s,getVersion:()=>bs,hide:()=>Ws,show:()=>ks});async function bs(){return p({__tauriModule:"App",message:{cmd:"getAppVersion"}})}async function Ms(){return p({__tauriModule:"App",message:{cmd:"getAppName"}})}async function $s(){return p({__tauriModule:"App",message:{cmd:"getTauriVersion"}})}async function ks(){return p({__tauriModule:"App",message:{cmd:"show"}})}async function Ws(){return p({__tauriModule:"App",message:{cmd:"hide"}})}var Ps={};ie(Ps,{getMatches:()=>Cs});async function Cs(){return p({__tauriModule:"Cli",message:{cmd:"cliMatches"}})}var Ds={};ie(Ds,{readText:()=>js,writeText:()=>xs});async function xs(t){return p({__tauriModule:"Clipboard",message:{cmd:"writeText",data:t}})}async function js(){return p({__tauriModule:"Clipboard",message:{cmd:"readText",data:null}})}var Ls={};ie(Ls,{ask:()=>zs,confirm:()=>qs,message:()=>Ts,open:()=>Es,save:()=>As});async function Es(t={}){return typeof t=="object"&&Object.freeze(t),p({__tauriModule:"Dialog",message:{cmd:"openDialog",options:t}})}async function As(t={}){return typeof t=="object"&&Object.freeze(t),p({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:t}})}async function Ts(t,e){var l,a;let n=typeof e=="string"?{title:e}:e;return p({__tauriModule:"Dialog",message:{cmd:"messageDialog",message:t.toString(),title:(l=n==null?void 0:n.title)==null?void 0:l.toString(),type:n==null?void 0:n.type,buttonLabel:(a=n==null?void 0:n.okLabel)==null?void 0:a.toString()}})}async function zs(t,e){var l,a,s,o,d;let n=typeof e=="string"?{title:e}:e;return p({__tauriModule:"Dialog",message:{cmd:"askDialog",message:t.toString(),title:(l=n==null?void 0:n.title)==null?void 0:l.toString(),type:n==null?void 0:n.type,buttonLabels:[(s=(a=n==null?void 0:n.okLabel)==null?void 0:a.toString())!=null?s:"Yes",(d=(o=n==null?void 0:n.cancelLabel)==null?void 0:o.toString())!=null?d:"No"]}})}async function qs(t,e){var l,a,s,o,d;let n=typeof e=="string"?{title:e}:e;return p({__tauriModule:"Dialog",message:{cmd:"confirmDialog",message:t.toString(),title:(l=n==null?void 0:n.title)==null?void 0:l.toString(),type:n==null?void 0:n.type,buttonLabels:[(s=(a=n==null?void 0:n.okLabel)==null?void 0:a.toString())!=null?s:"Ok",(d=(o=n==null?void 0:n.cancelLabel)==null?void 0:o.toString())!=null?d:"Cancel"]}})}var Ss={};ie(Ss,{isRegistered:()=>Rs,register:()=>Os,registerAll:()=>Is,unregister:()=>Fs,unregisterAll:()=>Ns});async function Os(t,e){return p({__tauriModule:"GlobalShortcut",message:{cmd:"register",shortcut:t,handler:Le(e)}})}async function Is(t,e){return p({__tauriModule:"GlobalShortcut",message:{cmd:"registerAll",shortcuts:t,handler:Le(e)}})}async function Rs(t){return p({__tauriModule:"GlobalShortcut",message:{cmd:"isRegistered",shortcut:t}})}async function Fs(t){return p({__tauriModule:"GlobalShortcut",message:{cmd:"unregister",shortcut:t}})}async function Ns(){return p({__tauriModule:"GlobalShortcut",message:{cmd:"unregisterAll"}})}var Us={};ie(Us,{Body:()=>Ue,Client:()=>Vn,Response:()=>Hn,ResponseType:()=>st,fetch:()=>Hs,getClient:()=>Ot});var st=(t=>(t[t.JSON=1]="JSON",t[t.Text=2]="Text",t[t.Binary=3]="Binary",t))(st||{}),Ue=class{constructor(t,e){this.type=t,this.payload=e}static form(t){let e={},n=(l,a)=>{if(a!==null){let s;typeof a=="string"?s=a:a instanceof Uint8Array||Array.isArray(a)?s=Array.from(a):a instanceof File?s={file:a.name,mime:a.type,fileName:a.name}:typeof a.file=="string"?s={file:a.file,mime:a.mime,fileName:a.fileName}:s={file:Array.from(a.file),mime:a.mime,fileName:a.fileName},e[String(l)]=s}};if(t instanceof FormData)for(let[l,a]of t)n(l,a);else for(let[l,a]of Object.entries(t))n(l,a);return new Ue("Form",e)}static json(t){return new Ue("Json",t)}static text(t){return new Ue("Text",t)}static bytes(t){return new Ue("Bytes",Array.from(t instanceof ArrayBuffer?new Uint8Array(t):t))}},Hn=class{constructor(t){this.url=t.url,this.status=t.status,this.ok=this.status>=200&&this.status<300,this.headers=t.headers,this.rawHeaders=t.rawHeaders,this.data=t.data}},Vn=class{constructor(t){this.id=t}async drop(){return p({__tauriModule:"Http",message:{cmd:"dropClient",client:this.id}})}async request(t){let e=!t.responseType||t.responseType===1;return e&&(t.responseType=2),p({__tauriModule:"Http",message:{cmd:"httpRequest",client:this.id,options:t}}).then(n=>{let l=new Hn(n);if(e){try{l.data=JSON.parse(l.data)}catch(a){if(l.ok&&l.data==="")l.data={};else if(l.ok)throw Error(`Failed to parse response \`${l.data}\` as JSON: ${a};
              try setting the \`responseType\` option to \`ResponseType.Text\` or \`ResponseType.Binary\` if the API does not return a JSON response.`)}return l}return l})}async get(t,e){return this.request({method:"GET",url:t,...e})}async post(t,e,n){return this.request({method:"POST",url:t,body:e,...n})}async put(t,e,n){return this.request({method:"PUT",url:t,body:e,...n})}async patch(t,e){return this.request({method:"PATCH",url:t,...e})}async delete(t,e){return this.request({method:"DELETE",url:t,...e})}};async function Ot(t){return p({__tauriModule:"Http",message:{cmd:"createClient",options:t}}).then(e=>new Vn(e))}var _t=null;async function Hs(t,e){var n;return _t===null&&(_t=await Ot()),_t.request({url:t,method:(n=e==null?void 0:e.method)!=null?n:"GET",...e})}function en(t,e,n){const l=t.slice();return l[6]=e[n],l}function tn(t){let e,n,l;return{c(){e=c("div"),e.innerHTML='<i class="fa-solid fa-up-right-from-square svelte-1bfzrjq"></i>',r(e,"class","flex justify-end px-2 cursor-pointer svelte-1bfzrjq")},m(a,s){q(a,e,s),n||(l=R(e,"click",t[5]),n=!0)},p:N,d(a){a&&z(e),n=!1,l()}}}function Vs(t){let e,n=[...t[0].values()],l=[];for(let a=0;a<n.length;a+=1)l[a]=nn(en(t,n,a));return{c(){e=c("div");for(let a=0;a<l.length;a+=1)l[a].c();r(e,"id","output"),r(e,"class","w-full h-full flex flex-col pl-0.5 text-xs overflow-y-scroll break-words gap-1 svelte-1bfzrjq")},m(a,s){q(a,e,s);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(a,s){if(s&1){n=[...a[0].values()];let o;for(o=0;o<n.length;o+=1){const d=en(a,n,o);l[o]?l[o].p(d,s):(l[o]=nn(d),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},i:N,o:N,d(a){a&&z(e),Pt(l,a)}}}function Bs(t){let e,n,l;return n=new qt({}),{c(){e=c("div"),ne(n.$$.fragment),r(e,"id","console-swap"),r(e,"class","w-full h-full flex justify-center items-center svelte-1bfzrjq")},m(a,s){q(a,e,s),ee(n,e,null),l=!0},p:N,i(a){l||(B(n.$$.fragment,a),l=!0)},o(a){G(n.$$.fragment,a),l=!1},d(a){a&&z(e),te(n)}}}function nn(t){let e,n=t[6]+"",l;return{c(){e=c("p"),l=H(n),r(e,"class","svelte-1bfzrjq")},m(a,s){q(a,e,s),i(e,l)},p(a,s){s&1&&n!==(n=a[6]+"")&&V(l,n)},d(a){a&&z(e)}}}function Gs(t){let e,n,l,a,s,o,d,f,m,u,g,y=t[1].length>0&&tn(t);const b=[Bs,Vs],h=[];function k(_,v){return _[2]?0:1}return m=k(t),u=h[m]=b[m](t),{c(){e=c("div"),n=c("div"),l=c("h1"),l.textContent="Console Output",a=M(),y&&y.c(),s=M(),o=c("div"),o.innerHTML='<i class="fa-solid fa-terminal svelte-1bfzrjq"></i>',d=M(),f=c("div"),u.c(),r(l,"class","absolute svelte-1bfzrjq"),r(o,"class","w-full flex justify-end px-2 svelte-1bfzrjq"),r(n,"id","console-output-title"),r(n,"class","relative w-full h-8 flex justify-center items-center border-b-2 border-overlay svelte-1bfzrjq"),r(f,"id","output-content"),r(f,"class","w-full h-full pb-8 pr-1 svelte-1bfzrjq"),r(e,"id","console-output"),r(e,"class","w-full h-full svelte-1bfzrjq")},m(_,v){q(_,e,v),i(e,n),i(n,l),i(n,a),y&&y.m(n,null),i(n,s),i(n,o),i(e,d),i(e,f),h[m].m(f,null),g=!0},p(_,[v]){_[1].length>0?y?y.p(_,v):(y=tn(_),y.c(),y.m(n,s)):y&&(y.d(1),y=null);let W=m;m=k(_),m===W?h[m].p(_,v):(wt(),G(h[W],1,1,()=>{h[W]=null}),bt(),u=h[m],u?u.p(_,v):(u=h[m]=b[m](_),u.c()),B(u,1),u.m(f,null))},i(_){g||(B(u),g=!0)},o(_){G(u),g=!1},d(_){_&&z(e),y&&y.d(),h[m].d()}}}function Js(t,e,n){let l=[],a="",s=!1;function o(){n(2,s=!0)}async function d(){await On.open(a)}return Ce(async()=>{await Se("console_output",m=>{const{line:u,file_path:g}=m.payload;a!=g&&(console.log(g),n(1,a=g),n(0,l=[]),n(2,s=!1)),n(0,l=[...l,u])})}),[l,a,s,d,o,async()=>await d()]}class Ys extends _e{constructor(e){super(),pe(this,e,Js,Gs,he,{switchConsole:4})}get switchConsole(){return this.$$.ctx[4]}}function ln(t,e,n){const l=t.slice();return l[5]=e[n],l}function an(t){let e,n=t[5]+"",l;return{c(){e=c("p"),l=H(n)},m(a,s){q(a,e,s),i(e,l)},p(a,s){s&2&&n!==(n=a[5]+"")&&V(l,n)},d(a){a&&z(e)}}}function Ks(t){let e,n,l,a,s,o,d,f,m,u,g,y,b=[...t[1].values()],h=[];for(let k=0;k<b.length;k+=1)h[k]=an(ln(t,b,k));return{c(){e=c("div"),n=c("div"),l=c("h1"),l.textContent="Drop to add Weave Mod(s)",a=M(),s=c("i"),d=M(),f=c("dialog"),m=c("div"),m.textContent="You have dropped files that are not Weave Mods",u=M();for(let k=0;k<h.length;k+=1)h[k].c();r(s,"class","fa-solid fa-arrow-up-from-bracket svelte-jz3vst"),r(n,"id","dropzone"),r(n,"class",o="absolute left-0 top-0 w-full h-full flex items-center justify-center flex-col gap-10 text-xl font-semibold pb-32 opacity-0 backdrop-blur-sm "+(t[0]?"visible":"")+" svelte-jz3vst"),r(m,"class","w-full h-9 border-b-2 border-overlay flex justify-center items-center font-bold"),r(f,"id","dropzone-modal"),r(f,"class","w-[26rem] h-[14rem] text-text svelte-jz3vst"),r(e,"id","dropzone-content"),r(e,"class","absolute let-0 top-0 w-full h-full items-center justify-center svelte-jz3vst")},m(k,_){q(k,e,_),i(e,n),i(n,l),i(n,a),i(n,s),i(e,d),i(e,f),i(f,m),i(f,u);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(f,null);t[3](f),g||(y=R(f,"click",modalClicked),g=!0)},p(k,[_]){if(_&1&&o!==(o="absolute left-0 top-0 w-full h-full flex items-center justify-center flex-col gap-10 text-xl font-semibold pb-32 opacity-0 backdrop-blur-sm "+(k[0]?"visible":"")+" svelte-jz3vst")&&r(n,"class",o),_&2){b=[...k[1].values()];let v;for(v=0;v<b.length;v+=1){const W=ln(k,b,v);h[v]?h[v].p(W,_):(h[v]=an(W),h[v].c(),h[v].m(f,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=b.length}},i:N,o:N,d(k){k&&z(e),Pt(h,k),t[3](null),g=!1,y()}}}function Xs(t,e,n){let l=!1,a=[],s;Ce(async()=>{await Se("tauri://file-drop",async d=>{n(0,l=!1);const f=d.payload;for(let m in f){const u=f[m];if(!u.endsWith(".jar")){n(1,a=[...a,u]);continue}if(!await ve("read_mod_config",{path:u})){n(1,a=[...a,u]);continue}const y=u.split(/[\\/]/).pop();await Pn(u,`${await at()}/.weave/mods/${y}`)}a.length>0&&s.showModal()}),await Se("tauri://file-drop-hover",()=>{n(0,l=!0),s.close(),n(1,a=[])}),await Se("tauri://file-drop-cancelled",()=>{n(0,l=!1)})});function o(d){se[d?"unshift":"push"](()=>{s=d,n(2,s)})}return[l,a,s,o]}class Zs extends _e{constructor(e){super(),pe(this,e,Xs,Ks,he,{})}}function sn(t){let e,n=t[1][0].title+"",l,a,s,o,d=t[1][0].desc+"",f;return{c(){e=c("div"),l=H(n),a=M(),s=c("div"),o=c("h1"),f=H(d),r(e,"class","w-full h-9 border-b-2 border-overlay flex justify-center items-center"),r(s,"class","w-full h-full flex flex-col items-center justify-center")},m(m,u){q(m,e,u),i(e,l),q(m,a,u),q(m,s,u),i(s,o),i(o,f)},p(m,u){u&2&&n!==(n=m[1][0].title+"")&&V(l,n),u&2&&d!==(d=m[1][0].desc+"")&&V(f,d)},d(m){m&&z(e),m&&z(a),m&&z(s)}}}function Qs(t){let e,n,l,a=t[1].length>0&&sn(t);return{c(){e=c("dialog"),a&&a.c(),r(e,"id","error-modal"),r(e,"class","w-[26rem] h-[14rem] text-text svelte-1dmtjhm")},m(s,o){q(s,e,o),a&&a.m(e,null),t[3](e),n||(l=R(e,"click",t[4]),n=!0)},p(s,[o]){s[1].length>0?a?a.p(s,o):(a=sn(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:N,o:N,d(s){s&&z(e),a&&a.d(),t[3](null),n=!1,l()}}}function ei(t,e,n){let l,a=[],s=!1;window.addEventListener("unhandledrejection",g=>n(1,a=[...a,{title:"Weave has encountered an Error",desc:g.reason}]));async function o(g){const y=g.target,b=y.getBoundingClientRect();b.top<=g.clientY&&g.clientY<=b.top+b.height&&b.left<=g.clientX&&g.clientX<=b.left+b.width||d(y,()=>{s=!1,n(1,a=a.filter((k,_)=>_!==0))})}function d(g,y){s=!0,g.close(),setTimeout(y,350)}let f;Ce(async()=>{f=setInterval(async()=>{!l.open&&a.length>0&&!s&&l.showModal()})}),rt(()=>{clearInterval(f)});function m(g){se[g?"unshift":"push"](()=>{l=g,n(0,l)})}return[l,a,o,m,async g=>o(g)]}class ti extends _e{constructor(e){super(),pe(this,e,ei,Qs,he,{})}}function ni(t){let e,n,l,a,s;return{c(){e=c("button"),e.textContent="Install Weave",n=M(),l=c("button"),l.textContent="Close Weave Manager",r(e,"class","w-32 h-8 rounded-xl bg-overlay svelte-15zk9d5"),r(l,"class","text-sm svelte-15zk9d5")},m(o,d){q(o,e,d),q(o,n,d),q(o,l,d),a||(s=[R(e,"click",t[21]),R(l,"click",t[13])],a=!0)},p:N,i:N,o:N,d(o){o&&z(e),o&&z(n),o&&z(l),a=!1,ce(s)}}}function li(t){let e,n,l,a;return l=new qt({}),{c(){e=c("h1"),e.textContent="Installing Weave",n=M(),ne(l.$$.fragment),r(e,"class","relative bottom-10")},m(s,o){q(s,e,o),q(s,n,o),ee(l,s,o),a=!0},p:N,i(s){a||(B(l.$$.fragment,s),a=!0)},o(s){G(l.$$.fragment,s),a=!1},d(s){s&&z(e),s&&z(n),te(l,s)}}}function ai(t){let e,n,l,a,s,o,d,f,m;return{c(){e=c("h1"),n=H("New Version: "),l=H(t[8]),a=M(),s=c("button"),s.textContent="Update Weave",o=M(),d=c("button"),d.textContent="Skip Update",r(e,"class","absolute top-5"),r(s,"class","w-32 h-8 rounded-xl bg-overlay svelte-15zk9d5"),r(d,"class","text-sm svelte-15zk9d5")},m(u,g){q(u,e,g),i(e,n),i(e,l),q(u,a,g),q(u,s,g),q(u,o,g),q(u,d,g),f||(m=[R(s,"click",t[23]),R(d,"click",function(){it(t[5].close)&&t[5].close.apply(this,arguments)})],f=!0)},p(u,g){t=u,g[0]&256&&V(l,t[8])},i:N,o:N,d(u){u&&z(e),u&&z(a),u&&z(s),u&&z(o),u&&z(d),f=!1,ce(m)}}}function si(t){let e,n,l,a;return l=new qt({}),{c(){e=c("h1"),e.textContent="Updating Weave",n=M(),ne(l.$$.fragment),r(e,"class","relative bottom-10")},m(s,o){q(s,e,o),q(s,n,o),ee(l,s,o),a=!0},p:N,i(s){a||(B(l.$$.fragment,s),a=!0)},o(s){G(l.$$.fragment,s),a=!1},d(s){s&&z(e),s&&z(n),te(l,s)}}}function ii(t){let e,n,l,a,s,o,d,f,m,u,g,y,b,h,k,_,v,W,D,L,C,x,w,P,E,$,A,O,T,F,le,ae,X,ue,de,Q,Y,j,K,U,J,be,me,Me,ke,De,ge,$e,ye,Ae,xe;n=new Wl({}),n.$on("select_theme",t[16]);function we(I){t[17](I)}let Z={promptRelaunch:t[2]};t[1]!==void 0&&(Z.instances=t[1]),d=new El({props:Z}),se.push(()=>Ke(d,"instances",we)),d.$on("switch_console",t[18]),g=new Ya({});let fe={};h=new Yl({props:fe}),t[19](h),h.$on("update",t[12]);let Bn={};W=new Ys({props:Bn}),t[20](W),C=new ts({props:{instances:t[1]}}),w=new Zs({});const It=[li,ni],We=[];function Rt(I,re){return I[6]?0:1}T=Rt(t),F=We[T]=It[T](t);const Ft=[si,ai],Pe=[];function Nt(I,re){return I[7]?0:1}return Y=Nt(t),j=Pe[Y]=Ft[Y](t),ge=new ti({}),{c(){e=c("main"),ne(n.$$.fragment),l=M(),a=c("div"),s=c("div"),o=c("div"),ne(d.$$.fragment),m=M(),u=c("div"),ne(g.$$.fragment),y=M(),b=c("div"),ne(h.$$.fragment),k=M(),_=c("div"),v=c("div"),ne(W.$$.fragment),D=M(),L=c("div"),ne(C.$$.fragment),x=M(),ne(w.$$.fragment),P=M(),E=c("dialog"),$=c("div"),$.textContent="Weave is not installed on your computer",A=M(),O=c("div"),F.c(),ae=M(),X=c("dialog"),ue=c("div"),ue.textContent="Weave is outdated or corrupted on your computer",de=M(),Q=c("div"),j.c(),U=M(),J=c("dialog"),be=c("div"),be.textContent="Weave Installed",me=M(),Me=c("div"),ke=c("button"),ke.textContent="Restart Weave Manager",De=M(),ne(ge.$$.fragment),r(o,"class","one-by-two-panel "+Ne+" svelte-15zk9d5"),r(u,"class","one-by-two-panel "+Ne+" svelte-15zk9d5"),r(b,"class","one-by-two-panel "+Ne+" svelte-15zk9d5"),r(s,"id","top-content"),r(s,"class","flex flex-row gap-4 svelte-15zk9d5"),r(v,"class","two-by-one-panel "+Ne+" svelte-15zk9d5"),r(L,"class","one-by-one-panel "+Ne+" svelte-15zk9d5"),r(_,"id","bottom-content"),r(_,"class","flex flex-row gap-4 svelte-15zk9d5"),r(a,"id","page-content"),r(a,"class","bg-base relative w-screen h-screen flex items-center flex-col pb-10 gap-4 p-4 svelte-15zk9d5"),r($,"class","w-full h-9 border-b-2 border-overlay flex justify-center items-center"),r(O,"class",le="w-full h-full flex flex-col items-center justify-center "+(t[6]?"":"gap-2")),r(E,"id","install-modal"),r(E,"class","modal w-[26rem] h-[12rem] text-text svelte-15zk9d5"),r(ue,"class","w-full h-9 border-b-2 border-overlay flex justify-center items-center"),r(Q,"class",K="relative w-full h-full pt-10 flex flex-col items-center justify-center "+(t[7]?"":"gap-2")),r(X,"id","update-modal"),r(X,"class","modal w-[26rem] h-[12rem] text-text svelte-15zk9d5"),r(be,"class","w-full h-9 border-b-2 border-overlay flex justify-center items-center"),r(ke,"class","w-52 h-8 rounded-xl bg-overlay svelte-15zk9d5"),r(Me,"class","w-full h-full flex flex-col items-center justify-center"),r(J,"id","restart-modal"),r(J,"class","modal w-[26rem] h-[10rem] text-text svelte-15zk9d5"),r(e,"id","main"),r(e,"class",$e=t[0]+" w-screen h-screen overflow-clip text-text svelte-15zk9d5")},m(I,re){q(I,e,re),ee(n,e,null),i(e,l),i(e,a),i(a,s),i(s,o),ee(d,o,null),i(s,m),i(s,u),ee(g,u,null),i(s,y),i(s,b),ee(h,b,null),i(a,k),i(a,_),i(_,v),ee(W,v,null),i(_,D),i(_,L),ee(C,L,null),i(a,x),ee(w,a,null),i(e,P),i(e,E),i(E,$),i(E,A),i(E,O),We[T].m(O,null),t[22](E),i(e,ae),i(e,X),i(X,ue),i(X,de),i(X,Q),Pe[Y].m(Q,null),t[24](X),i(e,U),i(e,J),i(J,be),i(J,me),i(J,Me),i(Me,ke),t[26](J),i(e,De),ee(ge,e,null),ye=!0,Ae||(xe=[R(E,"click",modalClicked),R(X,"click",modalClicked),R(ke,"click",t[25])],Ae=!0)},p(I,re){const dt={};re[0]&4&&(dt.promptRelaunch=I[2]),!f&&re[0]&2&&(f=!0,dt.instances=I[1],Je(()=>f=!1)),d.$set(dt);const Gn={};h.$set(Gn);const Jn={};W.$set(Jn);const Ut={};re[0]&2&&(Ut.instances=I[1]),C.$set(Ut);let mt=T;T=Rt(I),T===mt?We[T].p(I,re):(wt(),G(We[mt],1,1,()=>{We[mt]=null}),bt(),F=We[T],F?F.p(I,re):(F=We[T]=It[T](I),F.c()),B(F,1),F.m(O,null)),(!ye||re[0]&64&&le!==(le="w-full h-full flex flex-col items-center justify-center "+(I[6]?"":"gap-2")))&&r(O,"class",le);let ft=Y;Y=Nt(I),Y===ft?Pe[Y].p(I,re):(wt(),G(Pe[ft],1,1,()=>{Pe[ft]=null}),bt(),j=Pe[Y],j?j.p(I,re):(j=Pe[Y]=Ft[Y](I),j.c()),B(j,1),j.m(Q,null)),(!ye||re[0]&128&&K!==(K="relative w-full h-full pt-10 flex flex-col items-center justify-center "+(I[7]?"":"gap-2")))&&r(Q,"class",K),(!ye||re[0]&1&&$e!==($e=I[0]+" w-screen h-screen overflow-clip text-text svelte-15zk9d5"))&&r(e,"class",$e)},i(I){ye||(B(n.$$.fragment,I),B(d.$$.fragment,I),B(g.$$.fragment,I),B(h.$$.fragment,I),B(W.$$.fragment,I),B(C.$$.fragment,I),B(w.$$.fragment,I),B(F),B(j),B(ge.$$.fragment,I),ye=!0)},o(I){G(n.$$.fragment,I),G(d.$$.fragment,I),G(g.$$.fragment,I),G(h.$$.fragment,I),G(W.$$.fragment,I),G(C.$$.fragment,I),G(w.$$.fragment,I),G(F),G(j),G(ge.$$.fragment,I),ye=!1},d(I){I&&z(e),te(n),te(d),te(g),t[19](null),te(h),t[20](null),te(W),te(C),te(w),We[T].d(),t[22](null),Pe[Y].d(),t[24](null),t[26](null),te(ge),Ae=!1,ce(xe)}}}const Ne="bg-surface";function ri(t,e,n){let l="theme-darcula",a,s,o,d,f,m,u,g=!1,y=!1,b,h,k,_,v;window.modalClicked=j=>{const K=j.target,U=K.getBoundingClientRect();U.top<=j.clientY&&j.clientY<=U.top+U.height&&U.left<=j.clientX&&j.clientX<=U.left+U.width||K.close()};async function W(j){n(0,l=j.detail.theme),await v.writeSetting("theme",l)}function D(j){n(2,s=j.detail.prompt_relaunch),o=j.detail.auto_update,n(0,l=j.detail.theme),d=j.detail.loader_version}function L(){Ee.close()}async function C(){const j=await k.get("https://api.github.com/repos/Weave-MC/Weave-Loader/releases/latest",{headers:{"User-Agent":"weave-manager"}});return console.log("Fetching..."),j.data}async function x(j){const K=await k.get(j,{responseType:st.Binary});await $n(".weave/loader.jar",K.data,{dir:oe.Home})}async function w(){n(7,y=!0),await x(b),d=h,v.writeSetting("loader_version",d),u.close(),n(7,y=!1)}async function P(){n(6,g=!0),await Wn(".weave/mods",{dir:oe.Home,recursive:!0}),await Oe(".weave/analytics.json",JSON.stringify({launch_times:[],time_played:0,average_launch_time:0}),{dir:oe.Home});const j=await C(),K=j.assets.filter(U=>U.name.endsWith(".jar"))[0].browser_download_url;d=j.tag_name,v.writeSetting("loader_version",d),await x(K),f.close(),m.showModal()}async function E(){const j=await C(),K=j.assets.filter(me=>me.name.endsWith(".jar"))[0],U=j.assets.filter(me=>me.name===`${K.name}.sha256`)[0].browser_download_url;n(8,h=j.tag_name),b=K.browser_download_url;const be=(await k.get(U,{responseType:st.Text})).data.split(" ")[0];await ve("check_loader_integrity",{sumToCheck:be.toUpperCase()})||(u.showModal(),o&&await w())}let $;Ce(async()=>{k=await Ot(),await Lt(".weave/loader.jar",{dir:oe.Home})?await E():f.showModal(),$=setInterval(async()=>{await E()},30*6e4)}),rt(()=>{clearInterval($)});const A=async j=>await W(j);function O(j){a=j,n(1,a)}const T=()=>_.switchConsole();function F(j){se[j?"unshift":"push"](()=>{v=j,n(10,v)})}function le(j){se[j?"unshift":"push"](()=>{_=j,n(9,_)})}const ae=async()=>await P();function X(j){se[j?"unshift":"push"](()=>{f=j,n(3,f)})}const ue=async()=>await w();function de(j){se[j?"unshift":"push"](()=>{u=j,n(5,u)})}const Q=async()=>await Un();function Y(j){se[j?"unshift":"push"](()=>{m=j,n(4,m)})}return[l,a,s,f,m,u,g,y,h,_,v,W,D,L,w,P,A,O,T,F,le,ae,X,ue,de,Q,Y]}class oi extends _e{constructor(e){super(),pe(this,e,ri,ii,he,{},null,[-1,-1])}}new oi({target:document.getElementById("app")});
